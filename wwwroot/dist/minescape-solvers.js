/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./wwwroot/js/minescape/anagram.js":
/*!*****************************************!*\
  !*** ./wwwroot/js/minescape/anagram.js ***!
  \*****************************************/
/***/ (() => {

eval("var anagrams = null;\r\n\r\nStartup();\r\n\r\nasync function Startup() {\r\n\r\n    let response = await fetch(`../Data/anagrams.json`)\r\n\r\n    if (response.ok)\r\n        anagrams = await response.json()\r\n    else\r\n        console.error(\"Cannot load\")\r\n\r\n    autocomplete(document.getElementById(\"AnagramInput\"), Object.keys(anagrams))\r\n}\r\n\r\nfunction autocomplete(inp, arr) {\r\n    /*the autocomplete function takes two arguments,\r\n    the text field element and an array of possible autocompleted values:*/\r\n    var currentFocus;\r\n    /*execute a function when someone writes in the text field:*/\r\n    inp.addEventListener(\"input\", function (e) {\r\n        var a, b, i, val = this.value;\r\n        /*close any already open lists of autocompleted values*/\r\n        closeAllLists();\r\n        if (!val) { return false; }\r\n        currentFocus = -1;\r\n        /*create a DIV element that will contain the items (values):*/\r\n        a = document.createElement(\"DIV\");\r\n        a.setAttribute(\"id\", this.id + \"autocomplete-list\");\r\n        a.setAttribute(\"class\", \"autocomplete-items\");\r\n        /*append the DIV element as a child of the autocomplete container:*/\r\n        this.parentNode.appendChild(a);\r\n        /*for each item in the array...*/\r\n        for (i = 0; i < arr.length; i++) {\r\n            /*check if the item starts with the same letters as the text field value:*/\r\n            if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\r\n                /*create a DIV element for each matching element:*/\r\n                b = document.createElement(\"DIV\");\r\n                /*make the matching letters bold:*/\r\n                b.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\r\n                b.innerHTML += arr[i].substr(val.length);\r\n                /*insert a input field that will hold the current array item's value:*/\r\n                b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\r\n                /*execute a function when someone clicks on the item value (DIV element):*/\r\n                b.addEventListener(\"click\", function (e) {\r\n                    /*insert the value for the autocomplete text field:*/\r\n                    inp.value = this.getElementsByTagName(\"input\")[0].value;\r\n\r\n                    let name = anagrams[inp.value].id\r\n                    let location = anagrams[inp.value].location\r\n                    let x = location.split(\", \")[0]\r\n                    let y = location.split(\", \")[1]\r\n                    let z = location.split(\", \")[2]\r\n                    let tip = anagrams[inp.value].tip\r\n\r\n                    let text = `https://map.minescape.net/#/${x}/${y}/${z}/-1/minescape/minescape`\r\n                    document.getElementById(\"solution-anagram-tip\").innerText = tip;\r\n                    document.getElementById(\"solution-anagram-name\").innerText = name == undefined ? \"Name not set in database\" : name;\r\n                    document.getElementById(\"solution-anagram-url\").href = text;\r\n                    document.getElementById(\"solution-anagram-url\").innerText = location;\r\n\r\n                    /*close the list of autocompleted values,\r\n                    (or any other open lists of autocompleted values:*/\r\n                    closeAllLists();\r\n                });\r\n                a.appendChild(b);\r\n            }\r\n        }\r\n    });\r\n    /*execute a function presses a key on the keyboard:*/\r\n    inp.addEventListener(\"keydown\", function (e) {\r\n        var x = document.getElementById(this.id + \"autocomplete-list\");\r\n        if (x) x = x.getElementsByTagName(\"div\");\r\n        if (e.keyCode == 40) {\r\n            /*If the arrow DOWN key is pressed,\r\n            increase the currentFocus variable:*/\r\n            currentFocus++;\r\n            /*and and make the current item more visible:*/\r\n            addActive(x);\r\n        } else if (e.keyCode == 38) { //up\r\n            /*If the arrow UP key is pressed,\r\n            decrease the currentFocus variable:*/\r\n            currentFocus--;\r\n            /*and and make the current item more visible:*/\r\n            addActive(x);\r\n        } else if (e.keyCode == 13) {\r\n            /*If the ENTER key is pressed, prevent the form from being submitted,*/\r\n            e.preventDefault();\r\n            if (currentFocus > -1) {\r\n                /*and simulate a click on the \"active\" item:*/\r\n                if (x) x[currentFocus].click();\r\n            }\r\n        }\r\n    });\r\n    function addActive(x) {\r\n        /*a function to classify an item as \"active\":*/\r\n        if (!x) return false;\r\n        /*start by removing the \"active\" class on all items:*/\r\n        removeActive(x);\r\n        if (currentFocus >= x.length) currentFocus = 0;\r\n        if (currentFocus < 0) currentFocus = (x.length - 1);\r\n        /*add class \"autocomplete-active\":*/\r\n        x[currentFocus].classList.add(\"autocomplete-active\");\r\n    }\r\n    function removeActive(x) {\r\n        /*a function to remove the \"active\" class from all autocomplete items:*/\r\n        for (var i = 0; i < x.length; i++) {\r\n            x[i].classList.remove(\"autocomplete-active\");\r\n        }\r\n    }\r\n    function closeAllLists(elmnt) {\r\n        /*close all autocomplete lists in the document,\r\n        except the one passed as an argument:*/\r\n        var x = document.getElementsByClassName(\"autocomplete-items\");\r\n        for (var i = 0; i < x.length; i++) {\r\n            if (elmnt != x[i] && elmnt != inp) {\r\n                x[i].parentNode.removeChild(x[i]);\r\n            }\r\n        }\r\n    }\r\n    /*execute a function when someone clicks in the document:*/\r\n    document.addEventListener(\"click\", function (e) {\r\n        closeAllLists(e.target);\r\n    });\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93d3dyb290L2pzL21pbmVzY2FwZS9hbmFncmFtLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDRCQUE0QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixjQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYmFwcGxpY2F0aW9uMS8uL3d3d3Jvb3QvanMvbWluZXNjYXBlL2FuYWdyYW0uanM/NjVlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYW5hZ3JhbXMgPSBudWxsO1xyXG5cclxuU3RhcnR1cCgpO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gU3RhcnR1cCgpIHtcclxuXHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgLi4vRGF0YS9hbmFncmFtcy5qc29uYClcclxuXHJcbiAgICBpZiAocmVzcG9uc2Uub2spXHJcbiAgICAgICAgYW5hZ3JhbXMgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgIGVsc2VcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGxvYWRcIilcclxuXHJcbiAgICBhdXRvY29tcGxldGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJBbmFncmFtSW5wdXRcIiksIE9iamVjdC5rZXlzKGFuYWdyYW1zKSlcclxufVxyXG5cclxuZnVuY3Rpb24gYXV0b2NvbXBsZXRlKGlucCwgYXJyKSB7XHJcbiAgICAvKnRoZSBhdXRvY29tcGxldGUgZnVuY3Rpb24gdGFrZXMgdHdvIGFyZ3VtZW50cyxcclxuICAgIHRoZSB0ZXh0IGZpZWxkIGVsZW1lbnQgYW5kIGFuIGFycmF5IG9mIHBvc3NpYmxlIGF1dG9jb21wbGV0ZWQgdmFsdWVzOiovXHJcbiAgICB2YXIgY3VycmVudEZvY3VzO1xyXG4gICAgLypleGVjdXRlIGEgZnVuY3Rpb24gd2hlbiBzb21lb25lIHdyaXRlcyBpbiB0aGUgdGV4dCBmaWVsZDoqL1xyXG4gICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBhLCBiLCBpLCB2YWwgPSB0aGlzLnZhbHVlO1xyXG4gICAgICAgIC8qY2xvc2UgYW55IGFscmVhZHkgb3BlbiBsaXN0cyBvZiBhdXRvY29tcGxldGVkIHZhbHVlcyovXHJcbiAgICAgICAgY2xvc2VBbGxMaXN0cygpO1xyXG4gICAgICAgIGlmICghdmFsKSB7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgICAgIGN1cnJlbnRGb2N1cyA9IC0xO1xyXG4gICAgICAgIC8qY3JlYXRlIGEgRElWIGVsZW1lbnQgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIGl0ZW1zICh2YWx1ZXMpOiovXHJcbiAgICAgICAgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICAgICAgYS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB0aGlzLmlkICsgXCJhdXRvY29tcGxldGUtbGlzdFwiKTtcclxuICAgICAgICBhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYXV0b2NvbXBsZXRlLWl0ZW1zXCIpO1xyXG4gICAgICAgIC8qYXBwZW5kIHRoZSBESVYgZWxlbWVudCBhcyBhIGNoaWxkIG9mIHRoZSBhdXRvY29tcGxldGUgY29udGFpbmVyOiovXHJcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGEpO1xyXG4gICAgICAgIC8qZm9yIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkuLi4qL1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLypjaGVjayBpZiB0aGUgaXRlbSBzdGFydHMgd2l0aCB0aGUgc2FtZSBsZXR0ZXJzIGFzIHRoZSB0ZXh0IGZpZWxkIHZhbHVlOiovXHJcbiAgICAgICAgICAgIGlmIChhcnJbaV0uc3Vic3RyKDAsIHZhbC5sZW5ndGgpLnRvVXBwZXJDYXNlKCkgPT0gdmFsLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIC8qY3JlYXRlIGEgRElWIGVsZW1lbnQgZm9yIGVhY2ggbWF0Y2hpbmcgZWxlbWVudDoqL1xyXG4gICAgICAgICAgICAgICAgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICAgICAgICAgICAgICAvKm1ha2UgdGhlIG1hdGNoaW5nIGxldHRlcnMgYm9sZDoqL1xyXG4gICAgICAgICAgICAgICAgYi5pbm5lckhUTUwgPSBcIjxzdHJvbmc+XCIgKyBhcnJbaV0uc3Vic3RyKDAsIHZhbC5sZW5ndGgpICsgXCI8L3N0cm9uZz5cIjtcclxuICAgICAgICAgICAgICAgIGIuaW5uZXJIVE1MICs9IGFycltpXS5zdWJzdHIodmFsLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAvKmluc2VydCBhIGlucHV0IGZpZWxkIHRoYXQgd2lsbCBob2xkIHRoZSBjdXJyZW50IGFycmF5IGl0ZW0ncyB2YWx1ZToqL1xyXG4gICAgICAgICAgICAgICAgYi5pbm5lckhUTUwgKz0gXCI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nXCIgKyBhcnJbaV0gKyBcIic+XCI7XHJcbiAgICAgICAgICAgICAgICAvKmV4ZWN1dGUgYSBmdW5jdGlvbiB3aGVuIHNvbWVvbmUgY2xpY2tzIG9uIHRoZSBpdGVtIHZhbHVlIChESVYgZWxlbWVudCk6Ki9cclxuICAgICAgICAgICAgICAgIGIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyppbnNlcnQgdGhlIHZhbHVlIGZvciB0aGUgYXV0b2NvbXBsZXRlIHRleHQgZmllbGQ6Ki9cclxuICAgICAgICAgICAgICAgICAgICBpbnAudmFsdWUgPSB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIilbMF0udmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gYW5hZ3JhbXNbaW5wLnZhbHVlXS5pZFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IGFuYWdyYW1zW2lucC52YWx1ZV0ubG9jYXRpb25cclxuICAgICAgICAgICAgICAgICAgICBsZXQgeCA9IGxvY2F0aW9uLnNwbGl0KFwiLCBcIilbMF1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgeSA9IGxvY2F0aW9uLnNwbGl0KFwiLCBcIilbMV1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgeiA9IGxvY2F0aW9uLnNwbGl0KFwiLCBcIilbMl1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGlwID0gYW5hZ3JhbXNbaW5wLnZhbHVlXS50aXBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSBgaHR0cHM6Ly9tYXAubWluZXNjYXBlLm5ldC8jLyR7eH0vJHt5fS8ke3p9Ly0xL21pbmVzY2FwZS9taW5lc2NhcGVgXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb2x1dGlvbi1hbmFncmFtLXRpcFwiKS5pbm5lclRleHQgPSB0aXA7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb2x1dGlvbi1hbmFncmFtLW5hbWVcIikuaW5uZXJUZXh0ID0gbmFtZSA9PSB1bmRlZmluZWQgPyBcIk5hbWUgbm90IHNldCBpbiBkYXRhYmFzZVwiIDogbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvbHV0aW9uLWFuYWdyYW0tdXJsXCIpLmhyZWYgPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29sdXRpb24tYW5hZ3JhbS11cmxcIikuaW5uZXJUZXh0ID0gbG9jYXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8qY2xvc2UgdGhlIGxpc3Qgb2YgYXV0b2NvbXBsZXRlZCB2YWx1ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgKG9yIGFueSBvdGhlciBvcGVuIGxpc3RzIG9mIGF1dG9jb21wbGV0ZWQgdmFsdWVzOiovXHJcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VBbGxMaXN0cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhLmFwcGVuZENoaWxkKGIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvKmV4ZWN1dGUgYSBmdW5jdGlvbiBwcmVzc2VzIGEga2V5IG9uIHRoZSBrZXlib2FyZDoqL1xyXG4gICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkICsgXCJhdXRvY29tcGxldGUtbGlzdFwiKTtcclxuICAgICAgICBpZiAoeCkgeCA9IHguZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIik7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSA0MCkge1xyXG4gICAgICAgICAgICAvKklmIHRoZSBhcnJvdyBET1dOIGtleSBpcyBwcmVzc2VkLFxyXG4gICAgICAgICAgICBpbmNyZWFzZSB0aGUgY3VycmVudEZvY3VzIHZhcmlhYmxlOiovXHJcbiAgICAgICAgICAgIGN1cnJlbnRGb2N1cysrO1xyXG4gICAgICAgICAgICAvKmFuZCBhbmQgbWFrZSB0aGUgY3VycmVudCBpdGVtIG1vcmUgdmlzaWJsZToqL1xyXG4gICAgICAgICAgICBhZGRBY3RpdmUoeCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT0gMzgpIHsgLy91cFxyXG4gICAgICAgICAgICAvKklmIHRoZSBhcnJvdyBVUCBrZXkgaXMgcHJlc3NlZCxcclxuICAgICAgICAgICAgZGVjcmVhc2UgdGhlIGN1cnJlbnRGb2N1cyB2YXJpYWJsZToqL1xyXG4gICAgICAgICAgICBjdXJyZW50Rm9jdXMtLTtcclxuICAgICAgICAgICAgLyphbmQgYW5kIG1ha2UgdGhlIGN1cnJlbnQgaXRlbSBtb3JlIHZpc2libGU6Ki9cclxuICAgICAgICAgICAgYWRkQWN0aXZlKHgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgIC8qSWYgdGhlIEVOVEVSIGtleSBpcyBwcmVzc2VkLCBwcmV2ZW50IHRoZSBmb3JtIGZyb20gYmVpbmcgc3VibWl0dGVkLCovXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGb2N1cyA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvKmFuZCBzaW11bGF0ZSBhIGNsaWNrIG9uIHRoZSBcImFjdGl2ZVwiIGl0ZW06Ki9cclxuICAgICAgICAgICAgICAgIGlmICh4KSB4W2N1cnJlbnRGb2N1c10uY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZnVuY3Rpb24gYWRkQWN0aXZlKHgpIHtcclxuICAgICAgICAvKmEgZnVuY3Rpb24gdG8gY2xhc3NpZnkgYW4gaXRlbSBhcyBcImFjdGl2ZVwiOiovXHJcbiAgICAgICAgaWYgKCF4KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLypzdGFydCBieSByZW1vdmluZyB0aGUgXCJhY3RpdmVcIiBjbGFzcyBvbiBhbGwgaXRlbXM6Ki9cclxuICAgICAgICByZW1vdmVBY3RpdmUoeCk7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRGb2N1cyA+PSB4Lmxlbmd0aCkgY3VycmVudEZvY3VzID0gMDtcclxuICAgICAgICBpZiAoY3VycmVudEZvY3VzIDwgMCkgY3VycmVudEZvY3VzID0gKHgubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgLyphZGQgY2xhc3MgXCJhdXRvY29tcGxldGUtYWN0aXZlXCI6Ki9cclxuICAgICAgICB4W2N1cnJlbnRGb2N1c10uY2xhc3NMaXN0LmFkZChcImF1dG9jb21wbGV0ZS1hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZW1vdmVBY3RpdmUoeCkge1xyXG4gICAgICAgIC8qYSBmdW5jdGlvbiB0byByZW1vdmUgdGhlIFwiYWN0aXZlXCIgY2xhc3MgZnJvbSBhbGwgYXV0b2NvbXBsZXRlIGl0ZW1zOiovXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHhbaV0uY2xhc3NMaXN0LnJlbW92ZShcImF1dG9jb21wbGV0ZS1hY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2xvc2VBbGxMaXN0cyhlbG1udCkge1xyXG4gICAgICAgIC8qY2xvc2UgYWxsIGF1dG9jb21wbGV0ZSBsaXN0cyBpbiB0aGUgZG9jdW1lbnQsXHJcbiAgICAgICAgZXhjZXB0IHRoZSBvbmUgcGFzc2VkIGFzIGFuIGFyZ3VtZW50OiovXHJcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYXV0b2NvbXBsZXRlLWl0ZW1zXCIpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZWxtbnQgIT0geFtpXSAmJiBlbG1udCAhPSBpbnApIHtcclxuICAgICAgICAgICAgICAgIHhbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh4W2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qZXhlY3V0ZSBhIGZ1bmN0aW9uIHdoZW4gc29tZW9uZSBjbGlja3MgaW4gdGhlIGRvY3VtZW50OiovXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjbG9zZUFsbExpc3RzKGUudGFyZ2V0KTtcclxuICAgIH0pO1xyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./wwwroot/js/minescape/anagram.js\n");

/***/ }),

/***/ "./wwwroot/js/minescape/beacon.js":
/*!****************************************!*\
  !*** ./wwwroot/js/minescape/beacon.js ***!
  \****************************************/
/***/ (() => {

eval("var beacons = null;\r\n\r\nStartup();\r\n\r\nasync function Startup() {\r\n\r\n    let response = await fetch(`../Data/beacons.json`)\r\n\r\n    if (response.ok)\r\n        beacons = await response.json()\r\n    else\r\n        console.error(\"Cannot load\")\r\n\r\n    autocomplete(document.getElementById(\"BeaconInput\"), Object.keys(beacons))\r\n}\r\n\r\nfunction autocomplete(inp, arr) {\r\n    /*the autocomplete function takes two arguments,\r\n    the text field element and an array of possible autocompleted values:*/\r\n    var currentFocus;\r\n    /*execute a function when someone writes in the text field:*/\r\n    inp.addEventListener(\"input\", function (e) {\r\n        var a, b, i, val = this.value;\r\n        console.log(this.value);\r\n        console.log();\r\n\r\n        /*close any already open lists of autocompleted values*/\r\n        closeAllLists();\r\n        if (!val) { return false; }\r\n        currentFocus = -1;\r\n        /*create a DIV element that will contain the items (values):*/\r\n        a = document.createElement(\"DIV\");\r\n        a.setAttribute(\"id\", this.id + \"autocomplete-list\");\r\n        a.setAttribute(\"class\", \"autocomplete-items\");\r\n        /*append the DIV element as a child of the autocomplete container:*/\r\n        this.parentNode.appendChild(a);\r\n        /*for each item in the array...*/\r\n        for (i = 0; i < arr.length; i++) {\r\n            /*check if the item starts with the same letters as the text field value:*/\r\n            if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\r\n                /*create a DIV element for each matching element:*/\r\n                b = document.createElement(\"DIV\");\r\n                /*make the matching letters bold:*/\r\n                b.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\r\n                b.innerHTML += arr[i].substr(val.length);\r\n                /*insert a input field that will hold the current array item's value:*/\r\n                b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\r\n                /*execute a function when someone clicks on the item value (DIV element):*/\r\n                b.addEventListener(\"click\", function (e) {\r\n                    /*insert the value for the autocomplete text field:*/\r\n                    inp.value = this.getElementsByTagName(\"input\")[0].value;\r\n\r\n                    let name = beacons[inp.value].id\r\n                    let location = beacons[inp.value].location\r\n                    let x = location.split(\", \")[0]\r\n                    let y = location.split(\", \")[1]\r\n                    let z = location.split(\", \")[2]\r\n                    let tip = beacons[inp.value].tip\r\n\r\n                    let text = `https://map.minescape.net/#/${x}/${y}/${z}/-1/minescape/minescape`\r\n                    document.getElementById(\"solution-beacon-tip\").innerText = tip;\r\n                    document.getElementById(\"solution-beacon-url\").href = text;\r\n                    document.getElementById(\"solution-beacon-url\").innerText = location;\r\n\r\n                    /*close the list of autocompleted values,\r\n                    (or any other open lists of autocompleted values:*/\r\n                    closeAllLists();\r\n                });\r\n                a.appendChild(b);\r\n            }\r\n        }\r\n    });\r\n    /*execute a function presses a key on the keyboard:*/\r\n    inp.addEventListener(\"keydown\", function (e) {\r\n        var x = document.getElementById(this.id + \"autocomplete-list\");\r\n        if (x) x = x.getElementsByTagName(\"div\");\r\n        if (e.keyCode == 40) {\r\n            /*If the arrow DOWN key is pressed,\r\n            increase the currentFocus variable:*/\r\n            currentFocus++;\r\n            /*and and make the current item more visible:*/\r\n            addActive(x);\r\n        } else if (e.keyCode == 38) { //up\r\n            /*If the arrow UP key is pressed,\r\n            decrease the currentFocus variable:*/\r\n            currentFocus--;\r\n            /*and and make the current item more visible:*/\r\n            addActive(x);\r\n        } else if (e.keyCode == 13) {\r\n            /*If the ENTER key is pressed, prevent the form from being submitted,*/\r\n            e.preventDefault();\r\n            if (currentFocus > -1) {\r\n                /*and simulate a click on the \"active\" item:*/\r\n                if (x) x[currentFocus].click();\r\n            }\r\n        }\r\n    });\r\n    function addActive(x) {\r\n        /*a function to classify an item as \"active\":*/\r\n        if (!x) return false;\r\n        /*start by removing the \"active\" class on all items:*/\r\n        removeActive(x);\r\n        if (currentFocus >= x.length) currentFocus = 0;\r\n        if (currentFocus < 0) currentFocus = (x.length - 1);\r\n        /*add class \"autocomplete-active\":*/\r\n        x[currentFocus].classList.add(\"autocomplete-active\");\r\n    }\r\n    function removeActive(x) {\r\n        /*a function to remove the \"active\" class from all autocomplete items:*/\r\n        for (var i = 0; i < x.length; i++) {\r\n            x[i].classList.remove(\"autocomplete-active\");\r\n        }\r\n    }\r\n    function closeAllLists(elmnt) {\r\n        /*close all autocomplete lists in the document,\r\n        except the one passed as an argument:*/\r\n        var x = document.getElementsByClassName(\"autocomplete-items\");\r\n        for (var i = 0; i < x.length; i++) {\r\n            if (elmnt != x[i] && elmnt != inp) {\r\n                x[i].parentNode.removeChild(x[i]);\r\n            }\r\n        }\r\n    }\r\n    /*execute a function when someone clicks in the document:*/\r\n    document.addEventListener(\"click\", function (e) {\r\n        closeAllLists(e.target);\r\n    });\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93d3dyb290L2pzL21pbmVzY2FwZS9iZWFjb24uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDRCQUE0QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixjQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYmFwcGxpY2F0aW9uMS8uL3d3d3Jvb3QvanMvbWluZXNjYXBlL2JlYWNvbi5qcz9lMThlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBiZWFjb25zID0gbnVsbDtcclxuXHJcblN0YXJ0dXAoKTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIFN0YXJ0dXAoKSB7XHJcblxyXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC4uL0RhdGEvYmVhY29ucy5qc29uYClcclxuXHJcbiAgICBpZiAocmVzcG9uc2Uub2spXHJcbiAgICAgICAgYmVhY29ucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgZWxzZVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgbG9hZFwiKVxyXG5cclxuICAgIGF1dG9jb21wbGV0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJlYWNvbklucHV0XCIpLCBPYmplY3Qua2V5cyhiZWFjb25zKSlcclxufVxyXG5cclxuZnVuY3Rpb24gYXV0b2NvbXBsZXRlKGlucCwgYXJyKSB7XHJcbiAgICAvKnRoZSBhdXRvY29tcGxldGUgZnVuY3Rpb24gdGFrZXMgdHdvIGFyZ3VtZW50cyxcclxuICAgIHRoZSB0ZXh0IGZpZWxkIGVsZW1lbnQgYW5kIGFuIGFycmF5IG9mIHBvc3NpYmxlIGF1dG9jb21wbGV0ZWQgdmFsdWVzOiovXHJcbiAgICB2YXIgY3VycmVudEZvY3VzO1xyXG4gICAgLypleGVjdXRlIGEgZnVuY3Rpb24gd2hlbiBzb21lb25lIHdyaXRlcyBpbiB0aGUgdGV4dCBmaWVsZDoqL1xyXG4gICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBhLCBiLCBpLCB2YWwgPSB0aGlzLnZhbHVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMudmFsdWUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCk7XHJcblxyXG4gICAgICAgIC8qY2xvc2UgYW55IGFscmVhZHkgb3BlbiBsaXN0cyBvZiBhdXRvY29tcGxldGVkIHZhbHVlcyovXHJcbiAgICAgICAgY2xvc2VBbGxMaXN0cygpO1xyXG4gICAgICAgIGlmICghdmFsKSB7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgICAgIGN1cnJlbnRGb2N1cyA9IC0xO1xyXG4gICAgICAgIC8qY3JlYXRlIGEgRElWIGVsZW1lbnQgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIGl0ZW1zICh2YWx1ZXMpOiovXHJcbiAgICAgICAgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICAgICAgYS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB0aGlzLmlkICsgXCJhdXRvY29tcGxldGUtbGlzdFwiKTtcclxuICAgICAgICBhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYXV0b2NvbXBsZXRlLWl0ZW1zXCIpO1xyXG4gICAgICAgIC8qYXBwZW5kIHRoZSBESVYgZWxlbWVudCBhcyBhIGNoaWxkIG9mIHRoZSBhdXRvY29tcGxldGUgY29udGFpbmVyOiovXHJcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGEpO1xyXG4gICAgICAgIC8qZm9yIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkuLi4qL1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLypjaGVjayBpZiB0aGUgaXRlbSBzdGFydHMgd2l0aCB0aGUgc2FtZSBsZXR0ZXJzIGFzIHRoZSB0ZXh0IGZpZWxkIHZhbHVlOiovXHJcbiAgICAgICAgICAgIGlmIChhcnJbaV0uc3Vic3RyKDAsIHZhbC5sZW5ndGgpLnRvVXBwZXJDYXNlKCkgPT0gdmFsLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIC8qY3JlYXRlIGEgRElWIGVsZW1lbnQgZm9yIGVhY2ggbWF0Y2hpbmcgZWxlbWVudDoqL1xyXG4gICAgICAgICAgICAgICAgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICAgICAgICAgICAgICAvKm1ha2UgdGhlIG1hdGNoaW5nIGxldHRlcnMgYm9sZDoqL1xyXG4gICAgICAgICAgICAgICAgYi5pbm5lckhUTUwgPSBcIjxzdHJvbmc+XCIgKyBhcnJbaV0uc3Vic3RyKDAsIHZhbC5sZW5ndGgpICsgXCI8L3N0cm9uZz5cIjtcclxuICAgICAgICAgICAgICAgIGIuaW5uZXJIVE1MICs9IGFycltpXS5zdWJzdHIodmFsLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAvKmluc2VydCBhIGlucHV0IGZpZWxkIHRoYXQgd2lsbCBob2xkIHRoZSBjdXJyZW50IGFycmF5IGl0ZW0ncyB2YWx1ZToqL1xyXG4gICAgICAgICAgICAgICAgYi5pbm5lckhUTUwgKz0gXCI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nXCIgKyBhcnJbaV0gKyBcIic+XCI7XHJcbiAgICAgICAgICAgICAgICAvKmV4ZWN1dGUgYSBmdW5jdGlvbiB3aGVuIHNvbWVvbmUgY2xpY2tzIG9uIHRoZSBpdGVtIHZhbHVlIChESVYgZWxlbWVudCk6Ki9cclxuICAgICAgICAgICAgICAgIGIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyppbnNlcnQgdGhlIHZhbHVlIGZvciB0aGUgYXV0b2NvbXBsZXRlIHRleHQgZmllbGQ6Ki9cclxuICAgICAgICAgICAgICAgICAgICBpbnAudmFsdWUgPSB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIilbMF0udmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gYmVhY29uc1tpbnAudmFsdWVdLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxvY2F0aW9uID0gYmVhY29uc1tpbnAudmFsdWVdLmxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHggPSBsb2NhdGlvbi5zcGxpdChcIiwgXCIpWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSBsb2NhdGlvbi5zcGxpdChcIiwgXCIpWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHogPSBsb2NhdGlvbi5zcGxpdChcIiwgXCIpWzJdXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRpcCA9IGJlYWNvbnNbaW5wLnZhbHVlXS50aXBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSBgaHR0cHM6Ly9tYXAubWluZXNjYXBlLm5ldC8jLyR7eH0vJHt5fS8ke3p9Ly0xL21pbmVzY2FwZS9taW5lc2NhcGVgXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb2x1dGlvbi1iZWFjb24tdGlwXCIpLmlubmVyVGV4dCA9IHRpcDtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvbHV0aW9uLWJlYWNvbi11cmxcIikuaHJlZiA9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb2x1dGlvbi1iZWFjb24tdXJsXCIpLmlubmVyVGV4dCA9IGxvY2F0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKmNsb3NlIHRoZSBsaXN0IG9mIGF1dG9jb21wbGV0ZWQgdmFsdWVzLFxyXG4gICAgICAgICAgICAgICAgICAgIChvciBhbnkgb3RoZXIgb3BlbiBsaXN0cyBvZiBhdXRvY29tcGxldGVkIHZhbHVlczoqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQWxsTGlzdHMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYS5hcHBlbmRDaGlsZChiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLypleGVjdXRlIGEgZnVuY3Rpb24gcHJlc3NlcyBhIGtleSBvbiB0aGUga2V5Ym9hcmQ6Ki9cclxuICAgIGlucC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCArIFwiYXV0b2NvbXBsZXRlLWxpc3RcIik7XHJcbiAgICAgICAgaWYgKHgpIHggPSB4LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpO1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gNDApIHtcclxuICAgICAgICAgICAgLypJZiB0aGUgYXJyb3cgRE9XTiBrZXkgaXMgcHJlc3NlZCxcclxuICAgICAgICAgICAgaW5jcmVhc2UgdGhlIGN1cnJlbnRGb2N1cyB2YXJpYWJsZToqL1xyXG4gICAgICAgICAgICBjdXJyZW50Rm9jdXMrKztcclxuICAgICAgICAgICAgLyphbmQgYW5kIG1ha2UgdGhlIGN1cnJlbnQgaXRlbSBtb3JlIHZpc2libGU6Ki9cclxuICAgICAgICAgICAgYWRkQWN0aXZlKHgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDM4KSB7IC8vdXBcclxuICAgICAgICAgICAgLypJZiB0aGUgYXJyb3cgVVAga2V5IGlzIHByZXNzZWQsXHJcbiAgICAgICAgICAgIGRlY3JlYXNlIHRoZSBjdXJyZW50Rm9jdXMgdmFyaWFibGU6Ki9cclxuICAgICAgICAgICAgY3VycmVudEZvY3VzLS07XHJcbiAgICAgICAgICAgIC8qYW5kIGFuZCBtYWtlIHRoZSBjdXJyZW50IGl0ZW0gbW9yZSB2aXNpYmxlOiovXHJcbiAgICAgICAgICAgIGFkZEFjdGl2ZSh4KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAvKklmIHRoZSBFTlRFUiBrZXkgaXMgcHJlc3NlZCwgcHJldmVudCB0aGUgZm9ybSBmcm9tIGJlaW5nIHN1Ym1pdHRlZCwqL1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Rm9jdXMgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgLyphbmQgc2ltdWxhdGUgYSBjbGljayBvbiB0aGUgXCJhY3RpdmVcIiBpdGVtOiovXHJcbiAgICAgICAgICAgICAgICBpZiAoeCkgeFtjdXJyZW50Rm9jdXNdLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGZ1bmN0aW9uIGFkZEFjdGl2ZSh4KSB7XHJcbiAgICAgICAgLyphIGZ1bmN0aW9uIHRvIGNsYXNzaWZ5IGFuIGl0ZW0gYXMgXCJhY3RpdmVcIjoqL1xyXG4gICAgICAgIGlmICgheCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8qc3RhcnQgYnkgcmVtb3ZpbmcgdGhlIFwiYWN0aXZlXCIgY2xhc3Mgb24gYWxsIGl0ZW1zOiovXHJcbiAgICAgICAgcmVtb3ZlQWN0aXZlKHgpO1xyXG4gICAgICAgIGlmIChjdXJyZW50Rm9jdXMgPj0geC5sZW5ndGgpIGN1cnJlbnRGb2N1cyA9IDA7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRGb2N1cyA8IDApIGN1cnJlbnRGb2N1cyA9ICh4Lmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIC8qYWRkIGNsYXNzIFwiYXV0b2NvbXBsZXRlLWFjdGl2ZVwiOiovXHJcbiAgICAgICAgeFtjdXJyZW50Rm9jdXNdLmNsYXNzTGlzdC5hZGQoXCJhdXRvY29tcGxldGUtYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQWN0aXZlKHgpIHtcclxuICAgICAgICAvKmEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoZSBcImFjdGl2ZVwiIGNsYXNzIGZyb20gYWxsIGF1dG9jb21wbGV0ZSBpdGVtczoqL1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB4W2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJhdXRvY29tcGxldGUtYWN0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNsb3NlQWxsTGlzdHMoZWxtbnQpIHtcclxuICAgICAgICAvKmNsb3NlIGFsbCBhdXRvY29tcGxldGUgbGlzdHMgaW4gdGhlIGRvY3VtZW50LFxyXG4gICAgICAgIGV4Y2VwdCB0aGUgb25lIHBhc3NlZCBhcyBhbiBhcmd1bWVudDoqL1xyXG4gICAgICAgIHZhciB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImF1dG9jb21wbGV0ZS1pdGVtc1wiKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGVsbW50ICE9IHhbaV0gJiYgZWxtbnQgIT0gaW5wKSB7XHJcbiAgICAgICAgICAgICAgICB4W2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoeFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKmV4ZWN1dGUgYSBmdW5jdGlvbiB3aGVuIHNvbWVvbmUgY2xpY2tzIGluIHRoZSBkb2N1bWVudDoqL1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY2xvc2VBbGxMaXN0cyhlLnRhcmdldCk7XHJcbiAgICB9KTtcclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./wwwroot/js/minescape/beacon.js\n");

/***/ }),

/***/ "./wwwroot/js/minescape/chest.js":
/*!***************************************!*\
  !*** ./wwwroot/js/minescape/chest.js ***!
  \***************************************/
/***/ (() => {

eval("var chests = null;\r\n\r\nStartup();\r\n\r\nasync function Startup() {\r\n\r\n    let response = await fetch(`../Data/chests.json`)\r\n\r\n    if (response.ok)\r\n        chests = await response.json()\r\n    else\r\n        console.error(\"Cannot load\")\r\n\r\n    autocomplete(document.getElementById(\"ChestInput\"), Object.keys(chests))\r\n}\r\n\r\nfunction autocomplete(inp, arr) {\r\n    /*the autocomplete function takes two arguments,\r\n    the text field element and an array of possible autocompleted values:*/\r\n    var currentFocus;\r\n    /*execute a function when someone writes in the text field:*/\r\n    inp.addEventListener(\"input\", function (e) {\r\n        var a, b, i, val = this.value;\r\n        /*close any already open lists of autocompleted values*/\r\n        closeAllLists();\r\n        if (!val) { return false; }\r\n        currentFocus = -1;\r\n        /*create a DIV element that will contain the items (values):*/\r\n        a = document.createElement(\"DIV\");\r\n        a.setAttribute(\"id\", this.id + \"autocomplete-list\");\r\n        a.setAttribute(\"class\", \"autocomplete-items\");\r\n        /*append the DIV element as a child of the autocomplete container:*/\r\n        this.parentNode.appendChild(a);\r\n        /*for each item in the array...*/\r\n        for (i = 0; i < arr.length; i++) {\r\n            /*check if the item starts with the same letters as the text field value:*/\r\n            if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {\r\n                /*create a DIV element for each matching element:*/\r\n                b = document.createElement(\"DIV\");\r\n                /*make the matching letters bold:*/\r\n                b.innerHTML = \"<strong>\" + arr[i].substr(0, val.length) + \"</strong>\";\r\n                b.innerHTML += arr[i].substr(val.length);\r\n                /*insert a input field that will hold the current array item's value:*/\r\n                b.innerHTML += \"<input type='hidden' value='\" + arr[i] + \"'>\";\r\n                /*execute a function when someone clicks on the item value (DIV element):*/\r\n                b.addEventListener(\"click\", function (e) {\r\n                    /*insert the value for the autocomplete text field:*/\r\n                    inp.value = this.getElementsByTagName(\"input\")[0].value;\r\n\r\n                    let name = chests[inp.value].id\r\n                    let location = chests[inp.value].location\r\n                    let x = location.split(\", \")[0]\r\n                    let y = location.split(\", \")[1]\r\n                    let z = location.split(\", \")[2]\r\n                    let tip = chests[inp.value].tip\r\n\r\n                    let text = `https://map.minescape.net/#/${x}/${y}/${z}/-1/minescape/minescape`\r\n                    document.getElementById(\"solution-chest-tip\").innerText = tip;\r\n                    document.getElementById(\"solution-chest-url\").href = text;\r\n                    document.getElementById(\"solution-chest-url\").innerText = location;\r\n\r\n                    /*close the list of autocompleted values,\r\n                    (or any other open lists of autocompleted values:*/\r\n                    closeAllLists();\r\n                });\r\n                a.appendChild(b);\r\n            }\r\n        }\r\n    });\r\n    /*execute a function presses a key on the keyboard:*/\r\n    inp.addEventListener(\"keydown\", function (e) {\r\n        var x = document.getElementById(this.id + \"autocomplete-list\");\r\n        if (x) x = x.getElementsByTagName(\"div\");\r\n        if (e.keyCode == 40) {\r\n            /*If the arrow DOWN key is pressed,\r\n            increase the currentFocus variable:*/\r\n            currentFocus++;\r\n            /*and and make the current item more visible:*/\r\n            addActive(x);\r\n        } else if (e.keyCode == 38) { //up\r\n            /*If the arrow UP key is pressed,\r\n            decrease the currentFocus variable:*/\r\n            currentFocus--;\r\n            /*and and make the current item more visible:*/\r\n            addActive(x);\r\n        } else if (e.keyCode == 13) {\r\n            /*If the ENTER key is pressed, prevent the form from being submitted,*/\r\n            e.preventDefault();\r\n            if (currentFocus > -1) {\r\n                /*and simulate a click on the \"active\" item:*/\r\n                if (x) x[currentFocus].click();\r\n            }\r\n        }\r\n    });\r\n    function addActive(x) {\r\n        /*a function to classify an item as \"active\":*/\r\n        if (!x) return false;\r\n        /*start by removing the \"active\" class on all items:*/\r\n        removeActive(x);\r\n        if (currentFocus >= x.length) currentFocus = 0;\r\n        if (currentFocus < 0) currentFocus = (x.length - 1);\r\n        /*add class \"autocomplete-active\":*/\r\n        x[currentFocus].classList.add(\"autocomplete-active\");\r\n    }\r\n    function removeActive(x) {\r\n        /*a function to remove the \"active\" class from all autocomplete items:*/\r\n        for (var i = 0; i < x.length; i++) {\r\n            x[i].classList.remove(\"autocomplete-active\");\r\n        }\r\n    }\r\n    function closeAllLists(elmnt) {\r\n        /*close all autocomplete lists in the document,\r\n        except the one passed as an argument:*/\r\n        var x = document.getElementsByClassName(\"autocomplete-items\");\r\n        for (var i = 0; i < x.length; i++) {\r\n            if (elmnt != x[i] && elmnt != inp) {\r\n                x[i].parentNode.removeChild(x[i]);\r\n            }\r\n        }\r\n    }\r\n    /*execute a function when someone clicks in the document:*/\r\n    document.addEventListener(\"click\", function (e) {\r\n        closeAllLists(e.target);\r\n    });\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93d3dyb290L2pzL21pbmVzY2FwZS9jaGVzdC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNEJBQTRCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsY0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViYXBwbGljYXRpb24xLy4vd3d3cm9vdC9qcy9taW5lc2NhcGUvY2hlc3QuanM/MGUyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2hlc3RzID0gbnVsbDtcclxuXHJcblN0YXJ0dXAoKTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIFN0YXJ0dXAoKSB7XHJcblxyXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC4uL0RhdGEvY2hlc3RzLmpzb25gKVxyXG5cclxuICAgIGlmIChyZXNwb25zZS5vaylcclxuICAgICAgICBjaGVzdHMgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgIGVsc2VcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGxvYWRcIilcclxuXHJcbiAgICBhdXRvY29tcGxldGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJDaGVzdElucHV0XCIpLCBPYmplY3Qua2V5cyhjaGVzdHMpKVxyXG59XHJcblxyXG5mdW5jdGlvbiBhdXRvY29tcGxldGUoaW5wLCBhcnIpIHtcclxuICAgIC8qdGhlIGF1dG9jb21wbGV0ZSBmdW5jdGlvbiB0YWtlcyB0d28gYXJndW1lbnRzLFxyXG4gICAgdGhlIHRleHQgZmllbGQgZWxlbWVudCBhbmQgYW4gYXJyYXkgb2YgcG9zc2libGUgYXV0b2NvbXBsZXRlZCB2YWx1ZXM6Ki9cclxuICAgIHZhciBjdXJyZW50Rm9jdXM7XHJcbiAgICAvKmV4ZWN1dGUgYSBmdW5jdGlvbiB3aGVuIHNvbWVvbmUgd3JpdGVzIGluIHRoZSB0ZXh0IGZpZWxkOiovXHJcbiAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIGEsIGIsIGksIHZhbCA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgLypjbG9zZSBhbnkgYWxyZWFkeSBvcGVuIGxpc3RzIG9mIGF1dG9jb21wbGV0ZWQgdmFsdWVzKi9cclxuICAgICAgICBjbG9zZUFsbExpc3RzKCk7XHJcbiAgICAgICAgaWYgKCF2YWwpIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgICAgY3VycmVudEZvY3VzID0gLTE7XHJcbiAgICAgICAgLypjcmVhdGUgYSBESVYgZWxlbWVudCB0aGF0IHdpbGwgY29udGFpbiB0aGUgaXRlbXMgKHZhbHVlcyk6Ki9cclxuICAgICAgICBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcclxuICAgICAgICBhLnNldEF0dHJpYnV0ZShcImlkXCIsIHRoaXMuaWQgKyBcImF1dG9jb21wbGV0ZS1saXN0XCIpO1xyXG4gICAgICAgIGEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJhdXRvY29tcGxldGUtaXRlbXNcIik7XHJcbiAgICAgICAgLyphcHBlbmQgdGhlIERJViBlbGVtZW50IGFzIGEgY2hpbGQgb2YgdGhlIGF1dG9jb21wbGV0ZSBjb250YWluZXI6Ki9cclxuICAgICAgICB0aGlzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICAgICAgLypmb3IgZWFjaCBpdGVtIGluIHRoZSBhcnJheS4uLiovXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvKmNoZWNrIGlmIHRoZSBpdGVtIHN0YXJ0cyB3aXRoIHRoZSBzYW1lIGxldHRlcnMgYXMgdGhlIHRleHQgZmllbGQgdmFsdWU6Ki9cclxuICAgICAgICAgICAgaWYgKGFycltpXS5zdWJzdHIoMCwgdmFsLmxlbmd0aCkudG9VcHBlckNhc2UoKSA9PSB2YWwudG9VcHBlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgLypjcmVhdGUgYSBESVYgZWxlbWVudCBmb3IgZWFjaCBtYXRjaGluZyBlbGVtZW50OiovXHJcbiAgICAgICAgICAgICAgICBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcclxuICAgICAgICAgICAgICAgIC8qbWFrZSB0aGUgbWF0Y2hpbmcgbGV0dGVycyBib2xkOiovXHJcbiAgICAgICAgICAgICAgICBiLmlubmVySFRNTCA9IFwiPHN0cm9uZz5cIiArIGFycltpXS5zdWJzdHIoMCwgdmFsLmxlbmd0aCkgKyBcIjwvc3Ryb25nPlwiO1xyXG4gICAgICAgICAgICAgICAgYi5pbm5lckhUTUwgKz0gYXJyW2ldLnN1YnN0cih2YWwubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIC8qaW5zZXJ0IGEgaW5wdXQgZmllbGQgdGhhdCB3aWxsIGhvbGQgdGhlIGN1cnJlbnQgYXJyYXkgaXRlbSdzIHZhbHVlOiovXHJcbiAgICAgICAgICAgICAgICBiLmlubmVySFRNTCArPSBcIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPSdcIiArIGFycltpXSArIFwiJz5cIjtcclxuICAgICAgICAgICAgICAgIC8qZXhlY3V0ZSBhIGZ1bmN0aW9uIHdoZW4gc29tZW9uZSBjbGlja3Mgb24gdGhlIGl0ZW0gdmFsdWUgKERJViBlbGVtZW50KToqL1xyXG4gICAgICAgICAgICAgICAgYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKmluc2VydCB0aGUgdmFsdWUgZm9yIHRoZSBhdXRvY29tcGxldGUgdGV4dCBmaWVsZDoqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlucC52YWx1ZSA9IHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKVswXS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBjaGVzdHNbaW5wLnZhbHVlXS5pZFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IGNoZXN0c1tpbnAudmFsdWVdLmxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHggPSBsb2NhdGlvbi5zcGxpdChcIiwgXCIpWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSBsb2NhdGlvbi5zcGxpdChcIiwgXCIpWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHogPSBsb2NhdGlvbi5zcGxpdChcIiwgXCIpWzJdXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRpcCA9IGNoZXN0c1tpbnAudmFsdWVdLnRpcFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IGBodHRwczovL21hcC5taW5lc2NhcGUubmV0LyMvJHt4fS8ke3l9LyR7en0vLTEvbWluZXNjYXBlL21pbmVzY2FwZWBcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvbHV0aW9uLWNoZXN0LXRpcFwiKS5pbm5lclRleHQgPSB0aXA7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb2x1dGlvbi1jaGVzdC11cmxcIikuaHJlZiA9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb2x1dGlvbi1jaGVzdC11cmxcIikuaW5uZXJUZXh0ID0gbG9jYXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8qY2xvc2UgdGhlIGxpc3Qgb2YgYXV0b2NvbXBsZXRlZCB2YWx1ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgKG9yIGFueSBvdGhlciBvcGVuIGxpc3RzIG9mIGF1dG9jb21wbGV0ZWQgdmFsdWVzOiovXHJcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VBbGxMaXN0cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhLmFwcGVuZENoaWxkKGIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvKmV4ZWN1dGUgYSBmdW5jdGlvbiBwcmVzc2VzIGEga2V5IG9uIHRoZSBrZXlib2FyZDoqL1xyXG4gICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkICsgXCJhdXRvY29tcGxldGUtbGlzdFwiKTtcclxuICAgICAgICBpZiAoeCkgeCA9IHguZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIik7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSA0MCkge1xyXG4gICAgICAgICAgICAvKklmIHRoZSBhcnJvdyBET1dOIGtleSBpcyBwcmVzc2VkLFxyXG4gICAgICAgICAgICBpbmNyZWFzZSB0aGUgY3VycmVudEZvY3VzIHZhcmlhYmxlOiovXHJcbiAgICAgICAgICAgIGN1cnJlbnRGb2N1cysrO1xyXG4gICAgICAgICAgICAvKmFuZCBhbmQgbWFrZSB0aGUgY3VycmVudCBpdGVtIG1vcmUgdmlzaWJsZToqL1xyXG4gICAgICAgICAgICBhZGRBY3RpdmUoeCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT0gMzgpIHsgLy91cFxyXG4gICAgICAgICAgICAvKklmIHRoZSBhcnJvdyBVUCBrZXkgaXMgcHJlc3NlZCxcclxuICAgICAgICAgICAgZGVjcmVhc2UgdGhlIGN1cnJlbnRGb2N1cyB2YXJpYWJsZToqL1xyXG4gICAgICAgICAgICBjdXJyZW50Rm9jdXMtLTtcclxuICAgICAgICAgICAgLyphbmQgYW5kIG1ha2UgdGhlIGN1cnJlbnQgaXRlbSBtb3JlIHZpc2libGU6Ki9cclxuICAgICAgICAgICAgYWRkQWN0aXZlKHgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgIC8qSWYgdGhlIEVOVEVSIGtleSBpcyBwcmVzc2VkLCBwcmV2ZW50IHRoZSBmb3JtIGZyb20gYmVpbmcgc3VibWl0dGVkLCovXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGb2N1cyA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvKmFuZCBzaW11bGF0ZSBhIGNsaWNrIG9uIHRoZSBcImFjdGl2ZVwiIGl0ZW06Ki9cclxuICAgICAgICAgICAgICAgIGlmICh4KSB4W2N1cnJlbnRGb2N1c10uY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZnVuY3Rpb24gYWRkQWN0aXZlKHgpIHtcclxuICAgICAgICAvKmEgZnVuY3Rpb24gdG8gY2xhc3NpZnkgYW4gaXRlbSBhcyBcImFjdGl2ZVwiOiovXHJcbiAgICAgICAgaWYgKCF4KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLypzdGFydCBieSByZW1vdmluZyB0aGUgXCJhY3RpdmVcIiBjbGFzcyBvbiBhbGwgaXRlbXM6Ki9cclxuICAgICAgICByZW1vdmVBY3RpdmUoeCk7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRGb2N1cyA+PSB4Lmxlbmd0aCkgY3VycmVudEZvY3VzID0gMDtcclxuICAgICAgICBpZiAoY3VycmVudEZvY3VzIDwgMCkgY3VycmVudEZvY3VzID0gKHgubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgLyphZGQgY2xhc3MgXCJhdXRvY29tcGxldGUtYWN0aXZlXCI6Ki9cclxuICAgICAgICB4W2N1cnJlbnRGb2N1c10uY2xhc3NMaXN0LmFkZChcImF1dG9jb21wbGV0ZS1hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZW1vdmVBY3RpdmUoeCkge1xyXG4gICAgICAgIC8qYSBmdW5jdGlvbiB0byByZW1vdmUgdGhlIFwiYWN0aXZlXCIgY2xhc3MgZnJvbSBhbGwgYXV0b2NvbXBsZXRlIGl0ZW1zOiovXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHhbaV0uY2xhc3NMaXN0LnJlbW92ZShcImF1dG9jb21wbGV0ZS1hY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2xvc2VBbGxMaXN0cyhlbG1udCkge1xyXG4gICAgICAgIC8qY2xvc2UgYWxsIGF1dG9jb21wbGV0ZSBsaXN0cyBpbiB0aGUgZG9jdW1lbnQsXHJcbiAgICAgICAgZXhjZXB0IHRoZSBvbmUgcGFzc2VkIGFzIGFuIGFyZ3VtZW50OiovXHJcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYXV0b2NvbXBsZXRlLWl0ZW1zXCIpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZWxtbnQgIT0geFtpXSAmJiBlbG1udCAhPSBpbnApIHtcclxuICAgICAgICAgICAgICAgIHhbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh4W2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qZXhlY3V0ZSBhIGZ1bmN0aW9uIHdoZW4gc29tZW9uZSBjbGlja3MgaW4gdGhlIGRvY3VtZW50OiovXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjbG9zZUFsbExpc3RzKGUudGFyZ2V0KTtcclxuICAgIH0pO1xyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./wwwroot/js/minescape/chest.js\n");

/***/ }),

/***/ "./wwwroot/js/minescape/cypher.js":
/*!****************************************!*\
  !*** ./wwwroot/js/minescape/cypher.js ***!
  \****************************************/
/***/ (() => {

eval("var anagrams = null;\r\n\r\nStartup();\r\n\r\nasync function Startup() {\r\n\r\n    let response = await fetch(`../Data/anagrams.json`)\r\n\r\n    if (response.ok)\r\n        anagrams = await response.json()\r\n    else\r\n        console.error(\"Cannot load\")\r\n\r\n    document.getElementById(\"CypherInput\").addEventListener(\"input\", function (e, val) {\r\n        let cipher = e.target.value.toLowerCase()\r\n        let ciphers = Object.keys(anagrams).filter(function (val) {\r\n            return anagrams[val].id.length == cipher.length && anagrams[val].id.length > 0\r\n        })\r\n\r\n        let found = null;\r\n        for (let i = 1; i <= 26; i++) {\r\n            let shifted = caesarShift(cipher, i)\r\n            for (let j = 0; j < ciphers.length; j++) {\r\n                if (anagrams[ciphers[j]].id == shifted) {\r\n                    found = anagrams[ciphers[j]];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (found == null) {\r\n            document.getElementById(\"solution-cypher-name\").innerText = \"not found\";\r\n            document.getElementById(\"solution-cypher-tip\").innerText = \"not found\";\r\n            document.getElementById(\"solution-cypher-url\").href = \"\";\r\n            document.getElementById(\"solution-cypher-url\").innerText = \"not found\";\r\n        }\r\n        else {\r\n\r\n\r\n            let name = found.id\r\n            let location = found.location\r\n            let x = location.split(\", \")[0]\r\n            let y = location.split(\", \")[1]\r\n            let z = location.split(\", \")[2]\r\n            let tip = found.tip\r\n\r\n            let text = `https://map.minescape.net/#/${x}/${y}/${z}/-1/minescape/minescape`\r\n            document.getElementById(\"solution-cypher-tip\").innerText = tip;\r\n            document.getElementById(\"solution-cypher-name\").innerText = name == undefined ? \"No name provided\" : name;\r\n            document.getElementById(\"solution-cypher-url\").href = text;\r\n            document.getElementById(\"solution-cypher-url\").innerText = location;\r\n        }\r\n    });\r\n}\r\n\r\nfunction caesarShift(str, amount) {\r\n    // Wrap the amount\r\n    if (amount < 0) {\r\n        return caesarShift(str, amount + 26);\r\n    }\r\n\r\n    // Make an output variable\r\n    var output = \"\";\r\n\r\n    // Go through each character\r\n    for (var i = 0; i < str.length; i++) {\r\n        // Get the character we'll be appending\r\n        var c = str[i];\r\n\r\n        // If it's a letter...\r\n        if (c.match(/[a-z]/i)) {\r\n            // Get its code\r\n            var code = c.codePointAt();\r\n\r\n            // Uppercase letters\r\n            if (code >= 65 && code <= 90) {\r\n                c = String.fromCharCode(((code - 65 + amount) % 26) + 65);\r\n            }\r\n\r\n            // Lowercase letters\r\n            else if (code >= 97 && code <= 122) {\r\n                c = String.fromCharCode(((code - 97 + amount) % 26) + 97);\r\n            }\r\n        }\r\n\r\n        // Append\r\n        output += c;\r\n    }\r\n\r\n    // All done!\r\n    return output;\r\n};\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93d3dyb290L2pzL21pbmVzY2FwZS9jeXBoZXIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakM7QUFDQSw0QkFBNEIsb0JBQW9CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJhcHBsaWNhdGlvbjEvLi93d3dyb290L2pzL21pbmVzY2FwZS9jeXBoZXIuanM/OWNmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYW5hZ3JhbXMgPSBudWxsO1xyXG5cclxuU3RhcnR1cCgpO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gU3RhcnR1cCgpIHtcclxuXHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgLi4vRGF0YS9hbmFncmFtcy5qc29uYClcclxuXHJcbiAgICBpZiAocmVzcG9uc2Uub2spXHJcbiAgICAgICAgYW5hZ3JhbXMgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgIGVsc2VcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGxvYWRcIilcclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkN5cGhlcklucHV0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoZSwgdmFsKSB7XHJcbiAgICAgICAgbGV0IGNpcGhlciA9IGUudGFyZ2V0LnZhbHVlLnRvTG93ZXJDYXNlKClcclxuICAgICAgICBsZXQgY2lwaGVycyA9IE9iamVjdC5rZXlzKGFuYWdyYW1zKS5maWx0ZXIoZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYW5hZ3JhbXNbdmFsXS5pZC5sZW5ndGggPT0gY2lwaGVyLmxlbmd0aCAmJiBhbmFncmFtc1t2YWxdLmlkLmxlbmd0aCA+IDBcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsZXQgZm91bmQgPSBudWxsO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDI2OyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHNoaWZ0ZWQgPSBjYWVzYXJTaGlmdChjaXBoZXIsIGkpXHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2lwaGVycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuYWdyYW1zW2NpcGhlcnNbal1dLmlkID09IHNoaWZ0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IGFuYWdyYW1zW2NpcGhlcnNbal1dO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZm91bmQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvbHV0aW9uLWN5cGhlci1uYW1lXCIpLmlubmVyVGV4dCA9IFwibm90IGZvdW5kXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29sdXRpb24tY3lwaGVyLXRpcFwiKS5pbm5lclRleHQgPSBcIm5vdCBmb3VuZFwiO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvbHV0aW9uLWN5cGhlci11cmxcIikuaHJlZiA9IFwiXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29sdXRpb24tY3lwaGVyLXVybFwiKS5pbm5lclRleHQgPSBcIm5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IGZvdW5kLmlkXHJcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IGZvdW5kLmxvY2F0aW9uXHJcbiAgICAgICAgICAgIGxldCB4ID0gbG9jYXRpb24uc3BsaXQoXCIsIFwiKVswXVxyXG4gICAgICAgICAgICBsZXQgeSA9IGxvY2F0aW9uLnNwbGl0KFwiLCBcIilbMV1cclxuICAgICAgICAgICAgbGV0IHogPSBsb2NhdGlvbi5zcGxpdChcIiwgXCIpWzJdXHJcbiAgICAgICAgICAgIGxldCB0aXAgPSBmb3VuZC50aXBcclxuXHJcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gYGh0dHBzOi8vbWFwLm1pbmVzY2FwZS5uZXQvIy8ke3h9LyR7eX0vJHt6fS8tMS9taW5lc2NhcGUvbWluZXNjYXBlYFxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvbHV0aW9uLWN5cGhlci10aXBcIikuaW5uZXJUZXh0ID0gdGlwO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvbHV0aW9uLWN5cGhlci1uYW1lXCIpLmlubmVyVGV4dCA9IG5hbWUgPT0gdW5kZWZpbmVkID8gXCJObyBuYW1lIHByb3ZpZGVkXCIgOiBuYW1lO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvbHV0aW9uLWN5cGhlci11cmxcIikuaHJlZiA9IHRleHQ7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29sdXRpb24tY3lwaGVyLXVybFwiKS5pbm5lclRleHQgPSBsb2NhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2Flc2FyU2hpZnQoc3RyLCBhbW91bnQpIHtcclxuICAgIC8vIFdyYXAgdGhlIGFtb3VudFxyXG4gICAgaWYgKGFtb3VudCA8IDApIHtcclxuICAgICAgICByZXR1cm4gY2Flc2FyU2hpZnQoc3RyLCBhbW91bnQgKyAyNik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFrZSBhbiBvdXRwdXQgdmFyaWFibGVcclxuICAgIHZhciBvdXRwdXQgPSBcIlwiO1xyXG5cclxuICAgIC8vIEdvIHRocm91Z2ggZWFjaCBjaGFyYWN0ZXJcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBjaGFyYWN0ZXIgd2UnbGwgYmUgYXBwZW5kaW5nXHJcbiAgICAgICAgdmFyIGMgPSBzdHJbaV07XHJcblxyXG4gICAgICAgIC8vIElmIGl0J3MgYSBsZXR0ZXIuLi5cclxuICAgICAgICBpZiAoYy5tYXRjaCgvW2Etel0vaSkpIHtcclxuICAgICAgICAgICAgLy8gR2V0IGl0cyBjb2RlXHJcbiAgICAgICAgICAgIHZhciBjb2RlID0gYy5jb2RlUG9pbnRBdCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBwZXJjYXNlIGxldHRlcnNcclxuICAgICAgICAgICAgaWYgKGNvZGUgPj0gNjUgJiYgY29kZSA8PSA5MCkge1xyXG4gICAgICAgICAgICAgICAgYyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjb2RlIC0gNjUgKyBhbW91bnQpICUgMjYpICsgNjUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBMb3dlcmNhc2UgbGV0dGVyc1xyXG4gICAgICAgICAgICBlbHNlIGlmIChjb2RlID49IDk3ICYmIGNvZGUgPD0gMTIyKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGNvZGUgLSA5NyArIGFtb3VudCkgJSAyNikgKyA5Nyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZFxyXG4gICAgICAgIG91dHB1dCArPSBjO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFsbCBkb25lIVxyXG4gICAgcmV0dXJuIG91dHB1dDtcclxufTtcclxuXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./wwwroot/js/minescape/cypher.js\n");

/***/ }),

/***/ "./wwwroot/js/minescape/light.js":
/*!***************************************!*\
  !*** ./wwwroot/js/minescape/light.js ***!
  \***************************************/
/***/ (() => {

eval("var matrices = Array.apply(null, Array(7)).map(function () { })\r\nvar combos = ['A', 'BA', 'B', 'CA', 'CBA', 'CB', 'C', 'DA', 'DBA', 'DB', 'DCA', 'DCBA', 'DCB', 'DC', 'D', 'EA', 'EBA', 'EB', 'ECA', 'ECBA', 'ECB', 'EC', 'EDA', 'EDBA', 'EDB', 'EDCA', 'EDCBA', 'EDCB', 'EDC', 'ED', 'E', 'FA', 'FBA', 'FB', 'FCA', 'FCBA', 'FCB', 'FC', 'FDA', 'FDBA', 'FDB', 'FDCA', 'FDCBA', 'FDCB', 'FDC', 'FD', 'FEA', 'FEBA', 'FEB', 'FECA', 'FECBA', 'FECB', 'FEC', 'FEDA', 'FEDBA', 'FEDB', 'FEDCA', 'FEDCBA', 'FEDCB', 'FEDC', 'FED', 'FE', 'F', 'GA', 'GBA', 'GB', 'GCA', 'GCBA', 'GCB', 'GC', 'GDA', 'GDBA', 'GDB', 'GDCA', 'GDCBA', 'GDCB', 'GDC', 'GD', 'GEA', 'GEBA', 'GEB', 'GECA', 'GECBA', 'GECB', 'GEC', 'GEDA', 'GEDBA', 'GEDB', 'GEDCA', 'GEDCBA', 'GEDCB', 'GEDC', 'GED', 'GE', 'GFA', 'GFBA', 'GFB', 'GFCA', 'GFCBA', 'GFCB', 'GFC', 'GFDA', 'GFDBA', 'GFDB', 'GFDCA', 'GFDCBA', 'GFDCB', 'GFDC', 'GFD', 'GFEA', 'GFEBA', 'GFEB', 'GFECA', 'GFECBA', 'GFECB', 'GFEC', 'GFEDA', 'GFEDBA', 'GFEDB', 'GFEDCA', 'GFEDCBA', 'GFEDCB', 'GFEDC', 'GFED', 'GFE', 'GF', 'G', 'HA', 'HBA', 'HB', 'HCA', 'HCBA', 'HCB', 'HC', 'HDA', 'HDBA', 'HDB', 'HDCA', 'HDCBA', 'HDCB', 'HDC', 'HD', 'HEA', 'HEBA', 'HEB', 'HECA', 'HECBA', 'HECB', 'HEC', 'HEDA', 'HEDBA', 'HEDB', 'HEDCA', 'HEDCBA', 'HEDCB', 'HEDC', 'HED', 'HE', 'HFA', 'HFBA', 'HFB', 'HFCA', 'HFCBA', 'HFCB', 'HFC', 'HFDA', 'HFDBA', 'HFDB', 'HFDCA', 'HFDCBA', 'HFDCB', 'HFDC', 'HFD', 'HFEA', 'HFEBA', 'HFEB', 'HFECA', 'HFECBA', 'HFECB', 'HFEC', 'HFEDA', 'HFEDBA', 'HFEDB', 'HFEDCA', 'HFEDCBA', 'HFEDCB', 'HFEDC', 'HFED', 'HFE', 'HF', 'HGA', 'HGBA', 'HGB', 'HGCA', 'HGCBA', 'HGCB', 'HGC', 'HGDA', 'HGDBA', 'HGDB', 'HGDCA', 'HGDCBA', 'HGDCB', 'HGDC', 'HGD', 'HGEA', 'HGEBA', 'HGEB', 'HGECA', 'HGECBA', 'HGECB', 'HGEC', 'HGEDA', 'HGEDBA', 'HGEDB', 'HGEDCA', 'HGEDCBA', 'HGEDCB', 'HGEDC', 'HGED', 'HGE', 'HGFA', 'HGFBA', 'HGFB', 'HGFCA', 'HGFCBA', 'HGFCB', 'HGFC', 'HGFDA', 'HGFDBA', 'HGFDB', 'HGFDCA', 'HGFDCBA', 'HGFDCB', 'HGFDC', 'HGFD', 'HGFEA', 'HGFEBA', 'HGFEB', 'HGFECA', 'HGFECBA', 'HGFECB', 'HGFEC', 'HGFEDA', 'HGFEDBA', 'HGFEDB', 'HGFEDCA', 'HGFEDCBA', 'HGFEDCB', 'HGFEDC', 'HGFED', 'HGFE', 'HGF', 'HG', 'H', '']\r\n\r\nvar debug = false\r\n\r\nvar checkbox = document.getElementById(\"LightDebug\")\r\n\r\nvar lightIndex = 0\r\n\r\nfunction resetLightPuzzle() {\r\n    lightIndex = 0;\r\n    matrices = Array.apply(null, Array(7)).map(function () { })\r\n    for (let i = 0; i < 9; i++) {\r\n\r\n        document.getElementById('LightInput' + i).value = null\r\n        document.getElementById('LightInput' + i).style.display = \"none\"\r\n        let tip = document.getElementById('LightTip' + i)\r\n        tip.innerHTML = \"\"\r\n        tip.style.display = \"none\"\r\n        document.getElementById('LightDescription' + i).style.display = \"none\"\r\n\r\n        let canvas = document.getElementById('canvas-lb-' + i)\r\n        canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height)\r\n        canvas.style.display = \"none\"\r\n\r\n        let preview = document.getElementById('canvas-preview-' + i);\r\n        preview.getContext('2d').clearRect(0, 0, preview.width, preview.height)\r\n        canvas.style.display = \"none\"\r\n    }\r\n\r\n    let solution = document.getElementById('LightSolution')\r\n    solution.style.display = \"none\"\r\n    solution.innerHTML = \"\"\r\n\r\n    document.getElementById('LightInput0').style.display = \"\"\r\n    let tip = document.getElementById('LightTip0')\r\n    tip.innerHTML = \"\"\r\n    tip.style.display = \"\"\r\n    document.getElementById('LightDescription0').style.display = \"\"\r\n}\r\n\r\ndocument.getElementById(\"LightReset\").addEventListener('click', function (e) {\r\n    resetLightPuzzle()\r\n});\r\n\r\ndocument.getElementById(\"LightInputZone\").addEventListener('click', function (e) {\r\n    if (document.getElementById(\"LightSolution\").innerHTML.includes(\"reset\")) resetLightPuzzle()\r\n});\r\n\r\ndocument.getElementById(\"LightSolution\").addEventListener('click', function (e) {\r\n    if (this.innerHTML.includes(\"reset\")) resetLightPuzzle()\r\n});\r\n\r\ncheckbox.addEventListener('change', function () {\r\n    debug = this.checked\r\n});\r\n\r\nfunction imageOnLoad(img) {\r\n    console.log(img)\r\n    let canvas = document.getElementById('canvas-lb-' + lightIndex)\r\n    canvas.width = img.width\r\n    canvas.height = img.height\r\n    canvas.getContext('2d').drawImage(img, 0, 0)\r\n\r\n    let preview = document.getElementById('canvas-preview-' + lightIndex)\r\n    preview.getContext('2d').drawImage(img, 0, 0)\r\n    var result = GetMatrix(lightIndex)\r\n    if (result == \"\") {\r\n        preview.style.display = \"\";\r\n        document.getElementById('LightTip' + lightIndex).style.display = \"none\"\r\n        document.getElementById('LightInput' + lightIndex).style.display = \"none\"\r\n        document.getElementById('LightDescription' + lightIndex).style.display = \"none\"\r\n\r\n        if (lightIndex < 8) {\r\n            if (TrySolveMidWay()) {\r\n                lightIndex = 9\r\n            }\r\n            else {\r\n                document.getElementById('LightInput' + (lightIndex + 1)).style.display = \"\"\r\n                document.getElementById('LightDescription' + (lightIndex + 1)).style.display = \"\"\r\n                lightIndex++\r\n            }\r\n        }\r\n        else {\r\n            lightIndex = 9\r\n            Solve()\r\n        }\r\n    }\r\n    // Loaded fine\r\n    else {\r\n        document.getElementById('LightTip' + lightIndex).innerText = \"Couldn't process the image, try again with a new screenshot: \" + result\r\n        document.getElementById('LightTip' + lightIndex).style.display = \"\"\r\n    }\r\n}\r\n\r\nwindow.addEventListener(\"paste\", function (e) {\r\n    if (currentPage != \"Light\" || lightIndex > 8) return;\r\n    let item = Array.from(e.clipboardData.items).find(x => /^image\\//.test(x.type));\r\n\r\n    let blob = item.getAsFile();\r\n\r\n    let img = new Image();\r\n\r\n    img.onload = function () {\r\n        imageOnLoad(img)\r\n    };\r\n\r\n    img.src = URL.createObjectURL(blob);\r\n});\r\n\r\nArray.prototype.forEach.call(document.getElementsByClassName(\"lights-input\"), function (val, ind) {\r\n    val.addEventListener('change', function (event) {\r\n        let reader = new FileReader();\r\n        reader.onload = function (event) {\r\n            let img = new Image();\r\n            img.onload = function () {\r\n                imageOnLoad(img)\r\n            };\r\n            img.src = event.target.result;\r\n        };\r\n        reader.readAsDataURL(event.target.files[0]);\r\n    });\r\n\r\n});\r\n\r\nArray.prototype.forEach.call(document.getElementsByClassName(\"lights-input\"), function (val, ind) {\r\n    let id = val.id.replace(\"LightInput\", \"\");\r\n    if (val.id.replace(\"LightInput\", \"\") == \"0\")\r\n        return;\r\n    document.getElementById(\"LightInput\" + id).style.display = \"none\";\r\n    document.getElementById(\"LightDescription\" + id).style.display = \"none\";\r\n    document.getElementById(\"LightTip\" + id).style.display = \"none\";\r\n    return;\r\n});\r\n\r\n\r\n\r\nfunction GetMatrix(index) {\r\n    if (debug) console.log(\"canvas-lb-\" + index)\r\n    let src = cv.imread('canvas-lb-' + index)\r\n\r\n    if (debug) console.log(\"src\")\r\n    if (debug) console.log(src)\r\n\r\n    let topLeftBlack = TopLeftBlack(src)\r\n\r\n    if (debug) console.log(\"topLeftBlack\")\r\n    if (debug) console.log(topLeftBlack)\r\n\r\n    if (topLeftBlack == undefined) return \"Invalid Photo\"\r\n\r\n    let nextLeftBlack = GetNextTopLeftBlack(src, { x: topLeftBlack.x, y: topLeftBlack.y })\r\n\r\n    if (debug) console.log(\"nextLeftBlack\")\r\n    if (debug) console.log(nextLeftBlack)\r\n\r\n    let distanceBetween = GetDistanceBetweenPos(topLeftBlack.x, nextLeftBlack.x)\r\n\r\n    if (debug) console.log(\"distanceBetween\")\r\n    if (debug) console.log(distanceBetween)\r\n\r\n    if (distanceBetween == undefined) return \"Invalid Photo\"\r\n\r\n    let matrix = [];\r\n    for (let i = 0; i < 6; i++) {\r\n        let y = topLeftBlack.y + (distanceBetween * i);\r\n        let row = [];\r\n        for (let k = 0; k < 6; k++) {\r\n            let x = topLeftBlack.x + (distanceBetween * k);\r\n            let isOn = IsOn(src, x, y + 1);\r\n            row.push(isOn);\r\n        }\r\n        matrix.push(row);\r\n    }\r\n\r\n    if (index > 0 && JSON.stringify(matrices[index - 1]) == JSON.stringify(matrix)) {\r\n        return \"Matches Previous Image\";\r\n    }\r\n\r\n    matrices[index] = matrix;\r\n    return \"\";\r\n}\r\n\r\nfunction TopLeftBlack(src) {\r\n    for (let y = 0; y < src.size().height - 1; y++) {\r\n        for (let x = 0; x < src.size().width - 1; x++) {\r\n            let rgba = src.ucharPtr(y, x)\r\n            if (rgba[0] < 5 && rgba[1] < 5 && rgba[2] < 5)\r\n                return { x, y }\r\n        }\r\n    }\r\n}\r\n\r\nfunction GetNextTopLeftBlack(src, pos) {\r\n    let x = pos.x\r\n    pos.x += 10\r\n    let rgba = src.ucharPtr(pos.y, pos.x)\r\n    while (rgba[0] > 5 || rgba[1] > 5 || rgba[2] > 5) {\r\n        pos.x++\r\n        rgba = src.ucharPtr(pos.y, pos.x)\r\n        if (pos.x - x > 200)\r\n            return undefined\r\n    }\r\n    return pos\r\n}\r\n\r\nfunction GetDistanceBetweenPos(x1, x2) {\r\n    return Math.abs(x1 - x2)\r\n}\r\n\r\nfunction IsOn(src, x, y) {\r\n    let rgba = src.ucharPtr(y, x);\r\n    if (debug) console.log(\"IsOn:\");\r\n    if (debug) console.log(y, x);\r\n    if (debug) console.log(rgba);\r\n    if (rgba[0] < 100 && rgba[1] < 100)\r\n        return 0;\r\n    return 1;\r\n}\r\n\r\nvar xor_matrix = function (m1, m2) {\r\n    return range(0, 5).map(function (row) {\r\n        return range(0, 5).map(function (col) {\r\n            return m1[row][col] ^ m2[row][col]\r\n        })\r\n    })\r\n}\r\n\r\nfunction range(start, end) {\r\n    if (start === end) return [start];\r\n    return [start, ...range(start + 1, end)];\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    for (let i = 0; i < 5; i++)\r\n        for (let j = 0; j < 5; j++)\r\n            if (a[i][j] != b[i][j]) return false\r\n    return true\r\n}\r\n\r\nfunction TrySolveMidWay() {\r\n    if (lightIndex < 3) return false\r\n\r\n    let temp = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H']\r\n    let chars = []\r\n    for (let i = 0; i < lightIndex; i++) {\r\n        chars.push(temp[i])\r\n    }\r\n\r\n    let one_matrix = (function () {\r\n        return range(0, 5).map(function (row) {\r\n            return range(0, 5).map(function (col) {\r\n                return 1\r\n            });\r\n        })\r\n    })();\r\n\r\n    let data = {}\r\n    let last_state\r\n    let copyMatrices = { ...matrices }\r\n    for (let i = 0; i < chars.length; i++) {\r\n        last_state = copyMatrices[i];\r\n        if (debug) console.log(last_state);\r\n        console.log(copyMatrices[i + 1])\r\n        data[chars[i]] = xor_matrix(last_state, copyMatrices[i + 1])\r\n    }\r\n    last_state = copyMatrices[chars.length]\r\n\r\n    let combosByChars = getAllUniqueStrings(chars)\r\n    let solution = combosByChars.find(function (letters) {\r\n        let m = last_state\r\n        letters.split('').forEach(function (l) {\r\n            console.log(l)\r\n            console.log(data[l])\r\n            m = xor_matrix(m, data[l])\r\n        })\r\n        return isEqual(m, one_matrix)\r\n    })\r\n\r\n    if (solution != \"\" && solution != undefined) {\r\n        document.getElementById('LightSolution').innerText = \"Solution found early: \" + solution\r\n        document.getElementById('LightSolution').style.display = \"\"\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nfunction permute(arr, size) {\r\n    if (size === 1) {\r\n        return arr.map(element => [element]);\r\n    }\r\n\r\n    const permutations = [];\r\n\r\n    for (let i = 0; i < arr.length; i++) {\r\n        const current = arr[i];\r\n        const remaining = arr.slice(0, i).concat(arr.slice(i + 1));\r\n\r\n        const remainingPermutations = permute(remaining, size - 1);\r\n\r\n        for (const permutation of remainingPermutations) {\r\n            permutations.push([current].concat(permutation));\r\n        }\r\n    }\r\n\r\n    return permutations;\r\n}\r\n\r\nfunction getAllUniqueStrings(arr) {\r\n    const uniqueStrings = new Set();\r\n\r\n    for (let size = 1; size <= arr.length; size++) {\r\n        const permutations = permute(arr, size);\r\n        for (const permutation of permutations) {\r\n            uniqueStrings.add(permutation.join(''));\r\n        }\r\n    }\r\n\r\n    return [...uniqueStrings];\r\n}\r\n\r\n\r\nfunction Solve() {\r\n    let chars = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H']\r\n\r\n    let one_matrix = (function () {\r\n        return range(0, 5).map(function (row) {\r\n            return range(0, 5).map(function (col) {\r\n                return 1;\r\n            });\r\n        })\r\n    })();\r\n\r\n    let data = {}\r\n    let last_state\r\n\r\n    for (let i = 0; i < matrices.length-1; i++) {\r\n        last_state = matrices[i]\r\n        if (debug) console.log(last_state)\r\n        data[chars[i]] = xor_matrix(last_state, matrices[i+1])\r\n    }\r\n\r\n    last_state = matrices[matrices.length - 1]\r\n\r\n    let solution = combos.find(function (letters) {\r\n        let m = last_state\r\n        letters.split('').forEach(function (l) {\r\n            m = xor_matrix(m, data[l])\r\n        })\r\n        return isEqual(m, one_matrix)\r\n    })\r\n    if (solution != \"\" && solution != undefined)\r\n        document.getElementById('LightSolution').innerText = \"Solution: \" + solution;\r\n    else\r\n        document.getElementById('LightSolution').innerText = \"No solution found. Click me to reset\";\r\n    document.getElementById('LightSolution').style.display = \"\";\r\n    if (debug) console.log(solution);\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93d3dyb290L2pzL21pbmVzY2FwZS9saWdodC5qcyIsIm1hcHBpbmdzIjoiQUFBQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQsb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxzQ0FBc0M7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJCQUEyQjtBQUMvQyx3QkFBd0IsMEJBQTBCO0FBQ2xEO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvQkFBb0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViYXBwbGljYXRpb24xLy4vd3d3cm9vdC9qcy9taW5lc2NhcGUvbGlnaHQuanM/ZTRkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWF0cmljZXMgPSBBcnJheS5hcHBseShudWxsLCBBcnJheSg3KSkubWFwKGZ1bmN0aW9uICgpIHsgfSlcclxudmFyIGNvbWJvcyA9IFsnQScsICdCQScsICdCJywgJ0NBJywgJ0NCQScsICdDQicsICdDJywgJ0RBJywgJ0RCQScsICdEQicsICdEQ0EnLCAnRENCQScsICdEQ0InLCAnREMnLCAnRCcsICdFQScsICdFQkEnLCAnRUInLCAnRUNBJywgJ0VDQkEnLCAnRUNCJywgJ0VDJywgJ0VEQScsICdFREJBJywgJ0VEQicsICdFRENBJywgJ0VEQ0JBJywgJ0VEQ0InLCAnRURDJywgJ0VEJywgJ0UnLCAnRkEnLCAnRkJBJywgJ0ZCJywgJ0ZDQScsICdGQ0JBJywgJ0ZDQicsICdGQycsICdGREEnLCAnRkRCQScsICdGREInLCAnRkRDQScsICdGRENCQScsICdGRENCJywgJ0ZEQycsICdGRCcsICdGRUEnLCAnRkVCQScsICdGRUInLCAnRkVDQScsICdGRUNCQScsICdGRUNCJywgJ0ZFQycsICdGRURBJywgJ0ZFREJBJywgJ0ZFREInLCAnRkVEQ0EnLCAnRkVEQ0JBJywgJ0ZFRENCJywgJ0ZFREMnLCAnRkVEJywgJ0ZFJywgJ0YnLCAnR0EnLCAnR0JBJywgJ0dCJywgJ0dDQScsICdHQ0JBJywgJ0dDQicsICdHQycsICdHREEnLCAnR0RCQScsICdHREInLCAnR0RDQScsICdHRENCQScsICdHRENCJywgJ0dEQycsICdHRCcsICdHRUEnLCAnR0VCQScsICdHRUInLCAnR0VDQScsICdHRUNCQScsICdHRUNCJywgJ0dFQycsICdHRURBJywgJ0dFREJBJywgJ0dFREInLCAnR0VEQ0EnLCAnR0VEQ0JBJywgJ0dFRENCJywgJ0dFREMnLCAnR0VEJywgJ0dFJywgJ0dGQScsICdHRkJBJywgJ0dGQicsICdHRkNBJywgJ0dGQ0JBJywgJ0dGQ0InLCAnR0ZDJywgJ0dGREEnLCAnR0ZEQkEnLCAnR0ZEQicsICdHRkRDQScsICdHRkRDQkEnLCAnR0ZEQ0InLCAnR0ZEQycsICdHRkQnLCAnR0ZFQScsICdHRkVCQScsICdHRkVCJywgJ0dGRUNBJywgJ0dGRUNCQScsICdHRkVDQicsICdHRkVDJywgJ0dGRURBJywgJ0dGRURCQScsICdHRkVEQicsICdHRkVEQ0EnLCAnR0ZFRENCQScsICdHRkVEQ0InLCAnR0ZFREMnLCAnR0ZFRCcsICdHRkUnLCAnR0YnLCAnRycsICdIQScsICdIQkEnLCAnSEInLCAnSENBJywgJ0hDQkEnLCAnSENCJywgJ0hDJywgJ0hEQScsICdIREJBJywgJ0hEQicsICdIRENBJywgJ0hEQ0JBJywgJ0hEQ0InLCAnSERDJywgJ0hEJywgJ0hFQScsICdIRUJBJywgJ0hFQicsICdIRUNBJywgJ0hFQ0JBJywgJ0hFQ0InLCAnSEVDJywgJ0hFREEnLCAnSEVEQkEnLCAnSEVEQicsICdIRURDQScsICdIRURDQkEnLCAnSEVEQ0InLCAnSEVEQycsICdIRUQnLCAnSEUnLCAnSEZBJywgJ0hGQkEnLCAnSEZCJywgJ0hGQ0EnLCAnSEZDQkEnLCAnSEZDQicsICdIRkMnLCAnSEZEQScsICdIRkRCQScsICdIRkRCJywgJ0hGRENBJywgJ0hGRENCQScsICdIRkRDQicsICdIRkRDJywgJ0hGRCcsICdIRkVBJywgJ0hGRUJBJywgJ0hGRUInLCAnSEZFQ0EnLCAnSEZFQ0JBJywgJ0hGRUNCJywgJ0hGRUMnLCAnSEZFREEnLCAnSEZFREJBJywgJ0hGRURCJywgJ0hGRURDQScsICdIRkVEQ0JBJywgJ0hGRURDQicsICdIRkVEQycsICdIRkVEJywgJ0hGRScsICdIRicsICdIR0EnLCAnSEdCQScsICdIR0InLCAnSEdDQScsICdIR0NCQScsICdIR0NCJywgJ0hHQycsICdIR0RBJywgJ0hHREJBJywgJ0hHREInLCAnSEdEQ0EnLCAnSEdEQ0JBJywgJ0hHRENCJywgJ0hHREMnLCAnSEdEJywgJ0hHRUEnLCAnSEdFQkEnLCAnSEdFQicsICdIR0VDQScsICdIR0VDQkEnLCAnSEdFQ0InLCAnSEdFQycsICdIR0VEQScsICdIR0VEQkEnLCAnSEdFREInLCAnSEdFRENBJywgJ0hHRURDQkEnLCAnSEdFRENCJywgJ0hHRURDJywgJ0hHRUQnLCAnSEdFJywgJ0hHRkEnLCAnSEdGQkEnLCAnSEdGQicsICdIR0ZDQScsICdIR0ZDQkEnLCAnSEdGQ0InLCAnSEdGQycsICdIR0ZEQScsICdIR0ZEQkEnLCAnSEdGREInLCAnSEdGRENBJywgJ0hHRkRDQkEnLCAnSEdGRENCJywgJ0hHRkRDJywgJ0hHRkQnLCAnSEdGRUEnLCAnSEdGRUJBJywgJ0hHRkVCJywgJ0hHRkVDQScsICdIR0ZFQ0JBJywgJ0hHRkVDQicsICdIR0ZFQycsICdIR0ZFREEnLCAnSEdGRURCQScsICdIR0ZFREInLCAnSEdGRURDQScsICdIR0ZFRENCQScsICdIR0ZFRENCJywgJ0hHRkVEQycsICdIR0ZFRCcsICdIR0ZFJywgJ0hHRicsICdIRycsICdIJywgJyddXHJcblxyXG52YXIgZGVidWcgPSBmYWxzZVxyXG5cclxudmFyIGNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJMaWdodERlYnVnXCIpXHJcblxyXG52YXIgbGlnaHRJbmRleCA9IDBcclxuXHJcbmZ1bmN0aW9uIHJlc2V0TGlnaHRQdXp6bGUoKSB7XHJcbiAgICBsaWdodEluZGV4ID0gMDtcclxuICAgIG1hdHJpY2VzID0gQXJyYXkuYXBwbHkobnVsbCwgQXJyYXkoNykpLm1hcChmdW5jdGlvbiAoKSB7IH0pXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDk7IGkrKykge1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTGlnaHRJbnB1dCcgKyBpKS52YWx1ZSA9IG51bGxcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTGlnaHRJbnB1dCcgKyBpKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgICAgICBsZXQgdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0xpZ2h0VGlwJyArIGkpXHJcbiAgICAgICAgdGlwLmlubmVySFRNTCA9IFwiXCJcclxuICAgICAgICB0aXAuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0xpZ2h0RGVzY3JpcHRpb24nICsgaSkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcblxyXG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWxiLScgKyBpKVxyXG4gICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxyXG5cclxuICAgICAgICBsZXQgcHJldmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtcHJldmlldy0nICsgaSk7XHJcbiAgICAgICAgcHJldmlldy5nZXRDb250ZXh0KCcyZCcpLmNsZWFyUmVjdCgwLCAwLCBwcmV2aWV3LndpZHRoLCBwcmV2aWV3LmhlaWdodClcclxuICAgICAgICBjYW52YXMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNvbHV0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0xpZ2h0U29sdXRpb24nKVxyXG4gICAgc29sdXRpb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICBzb2x1dGlvbi5pbm5lckhUTUwgPSBcIlwiXHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0xpZ2h0SW5wdXQwJykuc3R5bGUuZGlzcGxheSA9IFwiXCJcclxuICAgIGxldCB0aXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTGlnaHRUaXAwJylcclxuICAgIHRpcC5pbm5lckhUTUwgPSBcIlwiXHJcbiAgICB0aXAuc3R5bGUuZGlzcGxheSA9IFwiXCJcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdMaWdodERlc2NyaXB0aW9uMCcpLnN0eWxlLmRpc3BsYXkgPSBcIlwiXHJcbn1cclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiTGlnaHRSZXNldFwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICByZXNldExpZ2h0UHV6emxlKClcclxufSk7XHJcblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkxpZ2h0SW5wdXRab25lXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkxpZ2h0U29sdXRpb25cIikuaW5uZXJIVE1MLmluY2x1ZGVzKFwicmVzZXRcIikpIHJlc2V0TGlnaHRQdXp6bGUoKVxyXG59KTtcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiTGlnaHRTb2x1dGlvblwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBpZiAodGhpcy5pbm5lckhUTUwuaW5jbHVkZXMoXCJyZXNldFwiKSkgcmVzZXRMaWdodFB1enpsZSgpXHJcbn0pO1xyXG5cclxuY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgZGVidWcgPSB0aGlzLmNoZWNrZWRcclxufSk7XHJcblxyXG5mdW5jdGlvbiBpbWFnZU9uTG9hZChpbWcpIHtcclxuICAgIGNvbnNvbGUubG9nKGltZylcclxuICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWxiLScgKyBsaWdodEluZGV4KVxyXG4gICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoXHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodFxyXG4gICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKGltZywgMCwgMClcclxuXHJcbiAgICBsZXQgcHJldmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtcHJldmlldy0nICsgbGlnaHRJbmRleClcclxuICAgIHByZXZpZXcuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UoaW1nLCAwLCAwKVxyXG4gICAgdmFyIHJlc3VsdCA9IEdldE1hdHJpeChsaWdodEluZGV4KVxyXG4gICAgaWYgKHJlc3VsdCA9PSBcIlwiKSB7XHJcbiAgICAgICAgcHJldmlldy5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTGlnaHRUaXAnICsgbGlnaHRJbmRleCkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0xpZ2h0SW5wdXQnICsgbGlnaHRJbmRleCkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0xpZ2h0RGVzY3JpcHRpb24nICsgbGlnaHRJbmRleCkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcblxyXG4gICAgICAgIGlmIChsaWdodEluZGV4IDwgOCkge1xyXG4gICAgICAgICAgICBpZiAoVHJ5U29sdmVNaWRXYXkoKSkge1xyXG4gICAgICAgICAgICAgICAgbGlnaHRJbmRleCA9IDlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdMaWdodElucHV0JyArIChsaWdodEluZGV4ICsgMSkpLnN0eWxlLmRpc3BsYXkgPSBcIlwiXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTGlnaHREZXNjcmlwdGlvbicgKyAobGlnaHRJbmRleCArIDEpKS5zdHlsZS5kaXNwbGF5ID0gXCJcIlxyXG4gICAgICAgICAgICAgICAgbGlnaHRJbmRleCsrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxpZ2h0SW5kZXggPSA5XHJcbiAgICAgICAgICAgIFNvbHZlKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBMb2FkZWQgZmluZVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0xpZ2h0VGlwJyArIGxpZ2h0SW5kZXgpLmlubmVyVGV4dCA9IFwiQ291bGRuJ3QgcHJvY2VzcyB0aGUgaW1hZ2UsIHRyeSBhZ2FpbiB3aXRoIGEgbmV3IHNjcmVlbnNob3Q6IFwiICsgcmVzdWx0XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0xpZ2h0VGlwJyArIGxpZ2h0SW5kZXgpLnN0eWxlLmRpc3BsYXkgPSBcIlwiXHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFzdGVcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIGlmIChjdXJyZW50UGFnZSAhPSBcIkxpZ2h0XCIgfHwgbGlnaHRJbmRleCA+IDgpIHJldHVybjtcclxuICAgIGxldCBpdGVtID0gQXJyYXkuZnJvbShlLmNsaXBib2FyZERhdGEuaXRlbXMpLmZpbmQoeCA9PiAvXmltYWdlXFwvLy50ZXN0KHgudHlwZSkpO1xyXG5cclxuICAgIGxldCBibG9iID0gaXRlbS5nZXRBc0ZpbGUoKTtcclxuXHJcbiAgICBsZXQgaW1nID0gbmV3IEltYWdlKCk7XHJcblxyXG4gICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbWFnZU9uTG9hZChpbWcpXHJcbiAgICB9O1xyXG5cclxuICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG59KTtcclxuXHJcbkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxpZ2h0cy1pbnB1dFwiKSwgZnVuY3Rpb24gKHZhbCwgaW5kKSB7XHJcbiAgICB2YWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBsZXQgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZU9uTG9hZChpbWcpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKTtcclxuICAgIH0pO1xyXG5cclxufSk7XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsaWdodHMtaW5wdXRcIiksIGZ1bmN0aW9uICh2YWwsIGluZCkge1xyXG4gICAgbGV0IGlkID0gdmFsLmlkLnJlcGxhY2UoXCJMaWdodElucHV0XCIsIFwiXCIpO1xyXG4gICAgaWYgKHZhbC5pZC5yZXBsYWNlKFwiTGlnaHRJbnB1dFwiLCBcIlwiKSA9PSBcIjBcIilcclxuICAgICAgICByZXR1cm47XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkxpZ2h0SW5wdXRcIiArIGlkKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkxpZ2h0RGVzY3JpcHRpb25cIiArIGlkKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkxpZ2h0VGlwXCIgKyBpZCkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgcmV0dXJuO1xyXG59KTtcclxuXHJcblxyXG5cclxuZnVuY3Rpb24gR2V0TWF0cml4KGluZGV4KSB7XHJcbiAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKFwiY2FudmFzLWxiLVwiICsgaW5kZXgpXHJcbiAgICBsZXQgc3JjID0gY3YuaW1yZWFkKCdjYW52YXMtbGItJyArIGluZGV4KVxyXG5cclxuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCJzcmNcIilcclxuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coc3JjKVxyXG5cclxuICAgIGxldCB0b3BMZWZ0QmxhY2sgPSBUb3BMZWZ0QmxhY2soc3JjKVxyXG5cclxuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCJ0b3BMZWZ0QmxhY2tcIilcclxuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2codG9wTGVmdEJsYWNrKVxyXG5cclxuICAgIGlmICh0b3BMZWZ0QmxhY2sgPT0gdW5kZWZpbmVkKSByZXR1cm4gXCJJbnZhbGlkIFBob3RvXCJcclxuXHJcbiAgICBsZXQgbmV4dExlZnRCbGFjayA9IEdldE5leHRUb3BMZWZ0QmxhY2soc3JjLCB7IHg6IHRvcExlZnRCbGFjay54LCB5OiB0b3BMZWZ0QmxhY2sueSB9KVxyXG5cclxuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCJuZXh0TGVmdEJsYWNrXCIpXHJcbiAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKG5leHRMZWZ0QmxhY2spXHJcblxyXG4gICAgbGV0IGRpc3RhbmNlQmV0d2VlbiA9IEdldERpc3RhbmNlQmV0d2VlblBvcyh0b3BMZWZ0QmxhY2sueCwgbmV4dExlZnRCbGFjay54KVxyXG5cclxuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCJkaXN0YW5jZUJldHdlZW5cIilcclxuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coZGlzdGFuY2VCZXR3ZWVuKVxyXG5cclxuICAgIGlmIChkaXN0YW5jZUJldHdlZW4gPT0gdW5kZWZpbmVkKSByZXR1cm4gXCJJbnZhbGlkIFBob3RvXCJcclxuXHJcbiAgICBsZXQgbWF0cml4ID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xyXG4gICAgICAgIGxldCB5ID0gdG9wTGVmdEJsYWNrLnkgKyAoZGlzdGFuY2VCZXR3ZWVuICogaSk7XHJcbiAgICAgICAgbGV0IHJvdyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgNjsgaysrKSB7XHJcbiAgICAgICAgICAgIGxldCB4ID0gdG9wTGVmdEJsYWNrLnggKyAoZGlzdGFuY2VCZXR3ZWVuICogayk7XHJcbiAgICAgICAgICAgIGxldCBpc09uID0gSXNPbihzcmMsIHgsIHkgKyAxKTtcclxuICAgICAgICAgICAgcm93LnB1c2goaXNPbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1hdHJpeC5wdXNoKHJvdyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGluZGV4ID4gMCAmJiBKU09OLnN0cmluZ2lmeShtYXRyaWNlc1tpbmRleCAtIDFdKSA9PSBKU09OLnN0cmluZ2lmeShtYXRyaXgpKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiTWF0Y2hlcyBQcmV2aW91cyBJbWFnZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIG1hdHJpY2VzW2luZGV4XSA9IG1hdHJpeDtcclxuICAgIHJldHVybiBcIlwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBUb3BMZWZ0QmxhY2soc3JjKSB7XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHNyYy5zaXplKCkuaGVpZ2h0IC0gMTsgeSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBzcmMuc2l6ZSgpLndpZHRoIC0gMTsgeCsrKSB7XHJcbiAgICAgICAgICAgIGxldCByZ2JhID0gc3JjLnVjaGFyUHRyKHksIHgpXHJcbiAgICAgICAgICAgIGlmIChyZ2JhWzBdIDwgNSAmJiByZ2JhWzFdIDwgNSAmJiByZ2JhWzJdIDwgNSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gR2V0TmV4dFRvcExlZnRCbGFjayhzcmMsIHBvcykge1xyXG4gICAgbGV0IHggPSBwb3MueFxyXG4gICAgcG9zLnggKz0gMTBcclxuICAgIGxldCByZ2JhID0gc3JjLnVjaGFyUHRyKHBvcy55LCBwb3MueClcclxuICAgIHdoaWxlIChyZ2JhWzBdID4gNSB8fCByZ2JhWzFdID4gNSB8fCByZ2JhWzJdID4gNSkge1xyXG4gICAgICAgIHBvcy54KytcclxuICAgICAgICByZ2JhID0gc3JjLnVjaGFyUHRyKHBvcy55LCBwb3MueClcclxuICAgICAgICBpZiAocG9zLnggLSB4ID4gMjAwKVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcG9zXHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldERpc3RhbmNlQmV0d2VlblBvcyh4MSwgeDIpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyh4MSAtIHgyKVxyXG59XHJcblxyXG5mdW5jdGlvbiBJc09uKHNyYywgeCwgeSkge1xyXG4gICAgbGV0IHJnYmEgPSBzcmMudWNoYXJQdHIoeSwgeCk7XHJcbiAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKFwiSXNPbjpcIik7XHJcbiAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKHksIHgpO1xyXG4gICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhyZ2JhKTtcclxuICAgIGlmIChyZ2JhWzBdIDwgMTAwICYmIHJnYmFbMV0gPCAxMDApXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICByZXR1cm4gMTtcclxufVxyXG5cclxudmFyIHhvcl9tYXRyaXggPSBmdW5jdGlvbiAobTEsIG0yKSB7XHJcbiAgICByZXR1cm4gcmFuZ2UoMCwgNSkubWFwKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICByZXR1cm4gcmFuZ2UoMCwgNSkubWFwKGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG0xW3Jvd11bY29sXSBeIG0yW3Jvd11bY29sXVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiByYW5nZShzdGFydCwgZW5kKSB7XHJcbiAgICBpZiAoc3RhcnQgPT09IGVuZCkgcmV0dXJuIFtzdGFydF07XHJcbiAgICByZXR1cm4gW3N0YXJ0LCAuLi5yYW5nZShzdGFydCArIDEsIGVuZCldO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0VxdWFsKGEsIGIpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKVxyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNTsgaisrKVxyXG4gICAgICAgICAgICBpZiAoYVtpXVtqXSAhPSBiW2ldW2pdKSByZXR1cm4gZmFsc2VcclxuICAgIHJldHVybiB0cnVlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIFRyeVNvbHZlTWlkV2F5KCkge1xyXG4gICAgaWYgKGxpZ2h0SW5kZXggPCAzKSByZXR1cm4gZmFsc2VcclxuXHJcbiAgICBsZXQgdGVtcCA9IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJ11cclxuICAgIGxldCBjaGFycyA9IFtdXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpZ2h0SW5kZXg7IGkrKykge1xyXG4gICAgICAgIGNoYXJzLnB1c2godGVtcFtpXSlcclxuICAgIH1cclxuXHJcbiAgICBsZXQgb25lX21hdHJpeCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhbmdlKDAsIDUpLm1hcChmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByYW5nZSgwLCA1KS5tYXAoZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH0pKCk7XHJcblxyXG4gICAgbGV0IGRhdGEgPSB7fVxyXG4gICAgbGV0IGxhc3Rfc3RhdGVcclxuICAgIGxldCBjb3B5TWF0cmljZXMgPSB7IC4uLm1hdHJpY2VzIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsYXN0X3N0YXRlID0gY29weU1hdHJpY2VzW2ldO1xyXG4gICAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2cobGFzdF9zdGF0ZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coY29weU1hdHJpY2VzW2kgKyAxXSlcclxuICAgICAgICBkYXRhW2NoYXJzW2ldXSA9IHhvcl9tYXRyaXgobGFzdF9zdGF0ZSwgY29weU1hdHJpY2VzW2kgKyAxXSlcclxuICAgIH1cclxuICAgIGxhc3Rfc3RhdGUgPSBjb3B5TWF0cmljZXNbY2hhcnMubGVuZ3RoXVxyXG5cclxuICAgIGxldCBjb21ib3NCeUNoYXJzID0gZ2V0QWxsVW5pcXVlU3RyaW5ncyhjaGFycylcclxuICAgIGxldCBzb2x1dGlvbiA9IGNvbWJvc0J5Q2hhcnMuZmluZChmdW5jdGlvbiAobGV0dGVycykge1xyXG4gICAgICAgIGxldCBtID0gbGFzdF9zdGF0ZVxyXG4gICAgICAgIGxldHRlcnMuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobClcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YVtsXSlcclxuICAgICAgICAgICAgbSA9IHhvcl9tYXRyaXgobSwgZGF0YVtsXSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBpc0VxdWFsKG0sIG9uZV9tYXRyaXgpXHJcbiAgICB9KVxyXG5cclxuICAgIGlmIChzb2x1dGlvbiAhPSBcIlwiICYmIHNvbHV0aW9uICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdMaWdodFNvbHV0aW9uJykuaW5uZXJUZXh0ID0gXCJTb2x1dGlvbiBmb3VuZCBlYXJseTogXCIgKyBzb2x1dGlvblxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdMaWdodFNvbHV0aW9uJykuc3R5bGUuZGlzcGxheSA9IFwiXCJcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBlcm11dGUoYXJyLCBzaXplKSB7XHJcbiAgICBpZiAoc2l6ZSA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBhcnIubWFwKGVsZW1lbnQgPT4gW2VsZW1lbnRdKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwZXJtdXRhdGlvbnMgPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBhcnJbaV07XHJcbiAgICAgICAgY29uc3QgcmVtYWluaW5nID0gYXJyLnNsaWNlKDAsIGkpLmNvbmNhdChhcnIuc2xpY2UoaSArIDEpKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVtYWluaW5nUGVybXV0YXRpb25zID0gcGVybXV0ZShyZW1haW5pbmcsIHNpemUgLSAxKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBwZXJtdXRhdGlvbiBvZiByZW1haW5pbmdQZXJtdXRhdGlvbnMpIHtcclxuICAgICAgICAgICAgcGVybXV0YXRpb25zLnB1c2goW2N1cnJlbnRdLmNvbmNhdChwZXJtdXRhdGlvbikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGVybXV0YXRpb25zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbGxVbmlxdWVTdHJpbmdzKGFycikge1xyXG4gICAgY29uc3QgdW5pcXVlU3RyaW5ncyA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICBmb3IgKGxldCBzaXplID0gMTsgc2l6ZSA8PSBhcnIubGVuZ3RoOyBzaXplKyspIHtcclxuICAgICAgICBjb25zdCBwZXJtdXRhdGlvbnMgPSBwZXJtdXRlKGFyciwgc2l6ZSk7XHJcbiAgICAgICAgZm9yIChjb25zdCBwZXJtdXRhdGlvbiBvZiBwZXJtdXRhdGlvbnMpIHtcclxuICAgICAgICAgICAgdW5pcXVlU3RyaW5ncy5hZGQocGVybXV0YXRpb24uam9pbignJykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gWy4uLnVuaXF1ZVN0cmluZ3NdO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gU29sdmUoKSB7XHJcbiAgICBsZXQgY2hhcnMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCddXHJcblxyXG4gICAgbGV0IG9uZV9tYXRyaXggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiByYW5nZSgwLCA1KS5tYXAoZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2UoMCwgNSkubWFwKGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfSkoKTtcclxuXHJcbiAgICBsZXQgZGF0YSA9IHt9XHJcbiAgICBsZXQgbGFzdF9zdGF0ZVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0cmljZXMubGVuZ3RoLTE7IGkrKykge1xyXG4gICAgICAgIGxhc3Rfc3RhdGUgPSBtYXRyaWNlc1tpXVxyXG4gICAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2cobGFzdF9zdGF0ZSlcclxuICAgICAgICBkYXRhW2NoYXJzW2ldXSA9IHhvcl9tYXRyaXgobGFzdF9zdGF0ZSwgbWF0cmljZXNbaSsxXSlcclxuICAgIH1cclxuXHJcbiAgICBsYXN0X3N0YXRlID0gbWF0cmljZXNbbWF0cmljZXMubGVuZ3RoIC0gMV1cclxuXHJcbiAgICBsZXQgc29sdXRpb24gPSBjb21ib3MuZmluZChmdW5jdGlvbiAobGV0dGVycykge1xyXG4gICAgICAgIGxldCBtID0gbGFzdF9zdGF0ZVxyXG4gICAgICAgIGxldHRlcnMuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcclxuICAgICAgICAgICAgbSA9IHhvcl9tYXRyaXgobSwgZGF0YVtsXSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBpc0VxdWFsKG0sIG9uZV9tYXRyaXgpXHJcbiAgICB9KVxyXG4gICAgaWYgKHNvbHV0aW9uICE9IFwiXCIgJiYgc29sdXRpb24gIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdMaWdodFNvbHV0aW9uJykuaW5uZXJUZXh0ID0gXCJTb2x1dGlvbjogXCIgKyBzb2x1dGlvbjtcclxuICAgIGVsc2VcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTGlnaHRTb2x1dGlvbicpLmlubmVyVGV4dCA9IFwiTm8gc29sdXRpb24gZm91bmQuIENsaWNrIG1lIHRvIHJlc2V0XCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTGlnaHRTb2x1dGlvbicpLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG4gICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhzb2x1dGlvbik7XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./wwwroot/js/minescape/light.js\n");

/***/ }),

/***/ "./wwwroot/js/minescape/puzzle-async-solver.js":
/*!*****************************************************!*\
  !*** ./wwwroot/js/minescape/puzzle-async-solver.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nlet puzzleWorker = new Worker(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(\"wwwroot_js_minescape_puzzle-solver_worker_js-_f9a31\"), __webpack_require__.b));\n\nclass Puzzle {\n\n    static solve(tiles, emptyPos, partitions, dbs, timeout = 120000) {\n\n        return new Promise((resolve, reject) => {\n            let timeoutID;\n            if (timeout !== null) {\n                timeoutID = setTimeout(() => {\n\n                    puzzleWorker.terminate();\n                    puzzleWorker = new Worker(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(\"wwwroot_js_minescape_puzzle-solver_worker_js-_f9a30\"), __webpack_require__.b));\n\n                    console.error(`Time limit (${timeout / 1000} seconds) exceeded`);\n                }, timeout);\n            }\n\n            puzzleWorker.onmessage = e => {\n                if (timeoutID) clearTimeout(timeoutID);\n                resolve(e.data);\n            }\n\n            puzzleWorker.postMessage([tiles, emptyPos, partitions, dbs]);\n        });\n        \n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Puzzle);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93d3dyb290L2pzL21pbmVzY2FwZS9wdXp6bGUtYXN5bmMtc29sdmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxzQ0FBc0MsK0lBQXlDOztBQUUvRTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNEQUFzRCwrSUFBeUM7O0FBRS9GLGlEQUFpRCxnQkFBZ0I7QUFDakUsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxNQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViYXBwbGljYXRpb24xLy4vd3d3cm9vdC9qcy9taW5lc2NhcGUvcHV6emxlLWFzeW5jLXNvbHZlci5qcz85NmVlIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBwdXp6bGVXb3JrZXIgPSBuZXcgV29ya2VyKG5ldyBVUkwoJy4vcHV6emxlLXNvbHZlci53b3JrZXInLCBpbXBvcnQubWV0YS51cmwpKTtcblxuY2xhc3MgUHV6emxlIHtcblxuICAgIHN0YXRpYyBzb2x2ZSh0aWxlcywgZW1wdHlQb3MsIHBhcnRpdGlvbnMsIGRicywgdGltZW91dCA9IDEyMDAwMCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgdGltZW91dElEO1xuICAgICAgICAgICAgaWYgKHRpbWVvdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0SUQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBwdXp6bGVXb3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHB1enpsZVdvcmtlciA9IG5ldyBXb3JrZXIobmV3IFVSTCgnLi9wdXp6bGUtc29sdmVyLndvcmtlcicsIGltcG9ydC5tZXRhLnVybCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFRpbWUgbGltaXQgKCR7dGltZW91dCAvIDEwMDB9IHNlY29uZHMpIGV4Y2VlZGVkYCk7XG4gICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHB1enpsZVdvcmtlci5vbm1lc3NhZ2UgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGltZW91dElEKSBjbGVhclRpbWVvdXQodGltZW91dElEKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGUuZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHB1enpsZVdvcmtlci5wb3N0TWVzc2FnZShbdGlsZXMsIGVtcHR5UG9zLCBwYXJ0aXRpb25zLCBkYnNdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHV6emxlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./wwwroot/js/minescape/puzzle-async-solver.js\n");

/***/ }),

/***/ "./wwwroot/js/minescape/puzzle.js":
/*!****************************************!*\
  !*** ./wwwroot/js/minescape/puzzle.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _puzzle_async_solver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./puzzle-async-solver */ \"./wwwroot/js/minescape/puzzle-async-solver.js\");\n\r\n\r\nconst canvas = document.getElementById('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\nlet debug = document.getElementById(\"PuzzleDebug\").checked;\r\n\r\nwindow.addEventListener(\"paste\", function (e) {\r\n    if (currentPage != \"Puzzle\") return;\r\n    var item = Array.from(e.clipboardData.items).find(x => /^image\\//.test(x.type));\r\n\r\n    var blob = item.getAsFile();\r\n\r\n    var img = new Image();\r\n\r\n    img.onload = function () {\r\n        document.getElementById(\"PuzzleInputZone\").classList.remove('dragover');\r\n        document.getElementById(\"PuzzleInputDescription\").innerText = \"Got another puzzle? Choose or drag it here\";\r\n        document.getElementById(\"PuzzleInputDescription\").style.textAlign = \"right\";\r\n        document.getElementById(\"PuzzleInputDescription\").style.paddingRight = \"5px\";\r\n        let puzzleCanvas = document.getElementById(\"PuzzleCanvas\");\r\n        puzzleCanvas.width = img.width;\r\n        puzzleCanvas.height = img.height;\r\n        document.getElementById(\"PuzzleInputZone\").style.height = `${img.height + 6}px`;\r\n\r\n        let obj = puzzleCanvas.getContext('2d');\r\n        obj.drawImage(img, 0, 0);\r\n\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n        ctx.drawImage(img, 0, 0);\r\n\r\n        Solve();\r\n    };\r\n\r\n    img.src = URL.createObjectURL(blob);\r\n});\r\n\r\ndocument.getElementById(\"PuzzleDebug\").addEventListener('change', function () {\r\n    debug = document.getElementById(\"PuzzleDebug\").checked;\r\n});\r\n\r\ndocument.getElementById(\"PuzzleInput\").addEventListener('change', function () {\r\n    readFile(this);\r\n});\r\n\r\ndocument.getElementById(\"PuzzleInputZone\").addEventListener('dragover', function (e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.classList.add('dragover');\r\n});\r\n\r\ndocument.getElementById(\"PuzzleInputZone\").addEventListener('dragleave', function (e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.classList.remove('dragover');\r\n});\r\n\r\nfunction readFile(input) {\r\n    if (debug) console.log(input.files);\r\n    if (input.files && input.files[0]) {\r\n        document.getElementById(\"PuzzleInputZone\").classList.remove('dragover');\r\n        document.getElementById(\"PuzzleInputDescription\").innerText = \"Got another puzzle? Choose or drag it here\";\r\n        document.getElementById(\"PuzzleInputDescription\").style.textAlign = \"right\";\r\n        document.getElementById(\"PuzzleInputDescription\").style.paddingRight = \"5px\";\r\n\r\n        var reader = new FileReader();\r\n\r\n        reader.onload = function (event) {\r\n            const img = new Image();\r\n            img.onload = function () {\r\n                let puzzleCanvas = document.getElementById(\"PuzzleCanvas\");\r\n                puzzleCanvas.width = img.width;\r\n                puzzleCanvas.height = img.height;\r\n                document.getElementById(\"PuzzleInputZone\").style.height = `${img.height + 6}px`;\r\n                \r\n                let obj = puzzleCanvas.getContext('2d');\r\n                obj.drawImage(img, 0, 0);\r\n\r\n                canvas.width = img.width;\r\n                canvas.height = img.height;\r\n                ctx.drawImage(img, 0, 0);\r\n\r\n                Solve();\r\n            };\r\n            img.src = event.target.result;\r\n        };\r\n        reader.readAsDataURL(input.files[0]);\r\n    }\r\n}\r\n\r\nclass PartitionData {\r\n    constructor(tiles) {\r\n        this.dbs = [];\r\n        this.partitions = [];\r\n        this.numTiles = 16;\r\n        this._loadDatabase();\r\n    }\r\n\r\n    async _loadDatabase() {\r\n        let response = await fetch(`../Data/15/info.json`);\r\n        let json;\r\n        if (response.ok) {\r\n            json = await response.json();\r\n        } else {\r\n            throw new Error('Database info json could not be loaded');\r\n        }\r\n\r\n        let promises = [];\r\n\r\n        for (let partition of json['partitions']) {\r\n            let fileName = `15_`\r\n                + partition.join(',')\r\n                + '.db';\r\n\r\n            promises.push(fetch(`../Data/15/${fileName}`)\r\n                .then(response => {\r\n                    if (response.ok) {\r\n                        return response.arrayBuffer();\r\n                    } else {\r\n                        throw new Error('Database could not be loaded');\r\n                    }\r\n                }).then(buffer => {\r\n                    this.partitions.push(partition);\r\n\r\n                    this.dbs.push(buffer);\r\n                }));\r\n        }\r\n\r\n        await Promise.all(promises);\r\n\r\n    }\r\n}\r\n\r\nvar partitionData = new PartitionData();\r\n\r\nfunction Solve() {\r\n    let src = cv.imread('canvas');\r\n\r\n    let sTopLeftPos = SolvedTopLeftCorner(src);\r\n\r\n    if (sTopLeftPos == undefined) {\r\n        document.getElementById('solution').innerText = \"Bad image. Include a picture that contains Unsolved and Solved puzzle\";\r\n        return;\r\n    }\r\n\r\n    let tileSize = GetTileSize(src, { x: sTopLeftPos.x, y: sTopLeftPos.y });\r\n\r\n    if (tileSize == undefined) {\r\n        document.getElementById('solution').innerText = \"Bad image. Include a picture that contains Unsolved and Solved puzzle\";\r\n        return;\r\n    }\r\n\r\n    if (debug) console.log(tileSize);\r\n\r\n    let uTopLeftPos = { x: (sTopLeftPos.x - (tileSize * 5)), y: sTopLeftPos.y }\r\n\r\n    let solvedTiles = [];\r\n    for (let i = 0; i < 4; i++) {\r\n        let y = sTopLeftPos.y + (i * tileSize);\r\n        for (let k = 0; k < 4; k++) {\r\n            let x = sTopLeftPos.x +(k * tileSize);\r\n            let rect = new cv.Rect(x, y, tileSize, tileSize);\r\n            solvedTiles.push(src.roi(rect));\r\n            if (debug)\r\n                cv.imshow(`scanvas${i}-${k}`, src.roi(rect));\r\n        }\r\n    }\r\n\r\n    let unsolvedTiles = [];\r\n    for (let i = 0; i < 4; i++) {\r\n        let y = uTopLeftPos.y + (i * tileSize);\r\n        for (let k = 0; k < 4; k++) {\r\n            let x = uTopLeftPos.x + (k * tileSize);\r\n            let rect = new cv.Rect(x, y, tileSize, tileSize);\r\n            let pos = FindPos(solvedTiles, src.roi(rect));\r\n            unsolvedTiles.push(pos == null ? 15 : pos);\r\n            if (debug)\r\n                cv.imshow(`canvas${i}-${k}`, src.roi(rect));\r\n        }\r\n    }\r\n    src.delete();\r\n\r\n    const goalState = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15];\r\n    const initialState = unsolvedTiles;\r\n\r\n    if (debug) console.log(initialState);\r\n    let sum = 0;\r\n    for (const num of initialState) {\r\n        sum += num;\r\n    }\r\n    for (const num of goalState) {\r\n        sum -= num;\r\n    }\r\n\r\n    if (sum != 0) {\r\n        document.getElementById('solution').innerText = \"Bad image. Include a picture that contains Unsolved and Solved puzzle\";\r\n        return;\r\n    }\r\n\r\n    \r\n    _puzzle_async_solver__WEBPACK_IMPORTED_MODULE_0__[\"default\"].solve(\r\n        initialState,\r\n        initialState.indexOf(15),\r\n        partitionData.partitions,\r\n        partitionData.dbs\r\n    ).then(ans => {\r\n        document.getElementById('solution').innerText = \"Solution: \\n\\n\" + ans + \"\\n\\nInstructions: \\n\\nu - tile goes up\\nd - tile goes down\\nr - tile goes right\\nl - tile goes left\";\r\n    }).catch(e => {\r\n        if (debug) console.error(e.message);\r\n    });\r\n}\r\n\r\nfunction SolvedTopLeftCorner(src) {\r\n    for (let x = src.size().width / 2; x <= src.size().width; x++) {\r\n        for (let y = 0; y < src.size().height; y++) {\r\n            let rgba = src.ucharPtr(y, x);\r\n            if (rgba[0] == 0 && rgba[1] == 0 && rgba[2] == 0)\r\n                return { x, y };\r\n        }\r\n    }\r\n}\r\n\r\nfunction GetTileSize(src, pos) {\r\n    try {\r\n        let i = 0;\r\n        let rgba = src.ucharPtr(pos.y, pos.x);\r\n        while (i < 5 || (rgba[0] != 0 || rgba[1] != 0 || rgba[2] != 0)) {\r\n            i++;\r\n            pos.x++;\r\n            pos.y++;\r\n            rgba = src.ucharPtr(pos.y, pos.x);\r\n        }\r\n\r\n        let k = 0;\r\n        while (rgba[0] == 0 && rgba[1] == 0 && rgba[2] == 0) {\r\n            k++;\r\n            pos.x++;\r\n            pos.y++;\r\n            rgba = src.ucharPtr(pos.y, pos.x);\r\n        }\r\n        k = Math.floor(k / 2);\r\n        return i + k;\r\n    }\r\n    catch {\r\n        return undefined;\r\n    }\r\n}\r\n\r\nfunction CompareMats(mat1, mat2) {\r\n    if (mat1.rows !== mat2.rows || mat1.cols !== mat2.cols) {\r\n        if (debug) console.error(\"Dimensions of the Mats are different.\");\r\n        return false;\r\n    }\r\n\r\n    for (let i = 0; i < mat1.rows; i++) {\r\n        for (let j = 0; j < mat1.cols; j++) {\r\n            let pixel1 = mat1.ucharPtr(j, i);\r\n            let pixel2 = mat2.ucharPtr(j, i);\r\n            if (pixel1[0] != pixel2[0] || pixel1[1] != pixel2[1] || pixel1[2] != pixel2[2]) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nfunction FindPos(solvedTiles, mat2) {\r\n    let found = null;\r\n    solvedTiles.forEach(function (val, index) {\r\n        if (CompareMats(val, mat2))\r\n            found = index;\r\n    });\r\n    return found;\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93d3dyb290L2pzL21pbmVzY2FwZS9wdXp6bGUuanMiLCJtYXBwaW5ncyI6Ijs7QUFBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsZUFBZTtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSxlQUFlO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsU0FBUztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msb0NBQW9DO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsRUFBRSxHQUFHLEVBQUU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxHQUFHLEVBQUU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDREQUFNO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx1QkFBdUI7QUFDOUQsd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlO0FBQ25DLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJhcHBsaWNhdGlvbjEvLi93d3dyb290L2pzL21pbmVzY2FwZS9wdXp6bGUuanM/N2E4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHV6emxlIGZyb20gJy4vcHV6emxlLWFzeW5jLXNvbHZlcidcclxuXHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcclxuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG5sZXQgZGVidWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlB1enpsZURlYnVnXCIpLmNoZWNrZWQ7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBpZiAoY3VycmVudFBhZ2UgIT0gXCJQdXp6bGVcIikgcmV0dXJuO1xyXG4gICAgdmFyIGl0ZW0gPSBBcnJheS5mcm9tKGUuY2xpcGJvYXJkRGF0YS5pdGVtcykuZmluZCh4ID0+IC9eaW1hZ2VcXC8vLnRlc3QoeC50eXBlKSk7XHJcblxyXG4gICAgdmFyIGJsb2IgPSBpdGVtLmdldEFzRmlsZSgpO1xyXG5cclxuICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUHV6emxlSW5wdXRab25lXCIpLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdvdmVyJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJQdXp6bGVJbnB1dERlc2NyaXB0aW9uXCIpLmlubmVyVGV4dCA9IFwiR290IGFub3RoZXIgcHV6emxlPyBDaG9vc2Ugb3IgZHJhZyBpdCBoZXJlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJQdXp6bGVJbnB1dERlc2NyaXB0aW9uXCIpLnN0eWxlLnRleHRBbGlnbiA9IFwicmlnaHRcIjtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlB1enpsZUlucHV0RGVzY3JpcHRpb25cIikuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXCI1cHhcIjtcclxuICAgICAgICBsZXQgcHV6emxlQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJQdXp6bGVDYW52YXNcIik7XHJcbiAgICAgICAgcHV6emxlQ2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xyXG4gICAgICAgIHB1enpsZUNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUHV6emxlSW5wdXRab25lXCIpLnN0eWxlLmhlaWdodCA9IGAke2ltZy5oZWlnaHQgKyA2fXB4YDtcclxuXHJcbiAgICAgICAgbGV0IG9iaiA9IHB1enpsZUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIG9iai5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuXHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuXHJcbiAgICAgICAgU29sdmUoKTtcclxuICAgIH07XHJcblxyXG4gICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJQdXp6bGVEZWJ1Z1wiKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBkZWJ1ZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUHV6emxlRGVidWdcIikuY2hlY2tlZDtcclxufSk7XHJcblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlB1enpsZUlucHV0XCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIHJlYWRGaWxlKHRoaXMpO1xyXG59KTtcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUHV6emxlSW5wdXRab25lXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2RyYWdvdmVyJyk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJQdXp6bGVJbnB1dFpvbmVcIikuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdvdmVyJyk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gcmVhZEZpbGUoaW5wdXQpIHtcclxuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coaW5wdXQuZmlsZXMpO1xyXG4gICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJQdXp6bGVJbnB1dFpvbmVcIikuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ292ZXInKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlB1enpsZUlucHV0RGVzY3JpcHRpb25cIikuaW5uZXJUZXh0ID0gXCJHb3QgYW5vdGhlciBwdXp6bGU/IENob29zZSBvciBkcmFnIGl0IGhlcmVcIjtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlB1enpsZUlucHV0RGVzY3JpcHRpb25cIikuc3R5bGUudGV4dEFsaWduID0gXCJyaWdodFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUHV6emxlSW5wdXREZXNjcmlwdGlvblwiKS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBcIjVweFwiO1xyXG5cclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwdXp6bGVDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlB1enpsZUNhbnZhc1wiKTtcclxuICAgICAgICAgICAgICAgIHB1enpsZUNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcclxuICAgICAgICAgICAgICAgIHB1enpsZUNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJQdXp6bGVJbnB1dFpvbmVcIikuc3R5bGUuaGVpZ2h0ID0gYCR7aW1nLmhlaWdodCArIDZ9cHhgO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgb2JqID0gcHV6emxlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICBvYmouZHJhd0ltYWdlKGltZywgMCwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgU29sdmUoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaW1nLnNyYyA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFBhcnRpdGlvbkRhdGEge1xyXG4gICAgY29uc3RydWN0b3IodGlsZXMpIHtcclxuICAgICAgICB0aGlzLmRicyA9IFtdO1xyXG4gICAgICAgIHRoaXMucGFydGl0aW9ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMubnVtVGlsZXMgPSAxNjtcclxuICAgICAgICB0aGlzLl9sb2FkRGF0YWJhc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBfbG9hZERhdGFiYXNlKCkge1xyXG4gICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAuLi9EYXRhLzE1L2luZm8uanNvbmApO1xyXG4gICAgICAgIGxldCBqc29uO1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgaW5mbyBqc29uIGNvdWxkIG5vdCBiZSBsb2FkZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwcm9taXNlcyA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwYXJ0aXRpb24gb2YganNvblsncGFydGl0aW9ucyddKSB7XHJcbiAgICAgICAgICAgIGxldCBmaWxlTmFtZSA9IGAxNV9gXHJcbiAgICAgICAgICAgICAgICArIHBhcnRpdGlvbi5qb2luKCcsJylcclxuICAgICAgICAgICAgICAgICsgJy5kYic7XHJcblxyXG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGZldGNoKGAuLi9EYXRhLzE1LyR7ZmlsZU5hbWV9YClcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBjb3VsZCBub3QgYmUgbG9hZGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihidWZmZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFydGl0aW9ucy5wdXNoKHBhcnRpdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGJzLnB1c2goYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBwYXJ0aXRpb25EYXRhID0gbmV3IFBhcnRpdGlvbkRhdGEoKTtcclxuXHJcbmZ1bmN0aW9uIFNvbHZlKCkge1xyXG4gICAgbGV0IHNyYyA9IGN2LmltcmVhZCgnY2FudmFzJyk7XHJcblxyXG4gICAgbGV0IHNUb3BMZWZ0UG9zID0gU29sdmVkVG9wTGVmdENvcm5lcihzcmMpO1xyXG5cclxuICAgIGlmIChzVG9wTGVmdFBvcyA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29sdXRpb24nKS5pbm5lclRleHQgPSBcIkJhZCBpbWFnZS4gSW5jbHVkZSBhIHBpY3R1cmUgdGhhdCBjb250YWlucyBVbnNvbHZlZCBhbmQgU29sdmVkIHB1enpsZVwiO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdGlsZVNpemUgPSBHZXRUaWxlU2l6ZShzcmMsIHsgeDogc1RvcExlZnRQb3MueCwgeTogc1RvcExlZnRQb3MueSB9KTtcclxuXHJcbiAgICBpZiAodGlsZVNpemUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvbHV0aW9uJykuaW5uZXJUZXh0ID0gXCJCYWQgaW1hZ2UuIEluY2x1ZGUgYSBwaWN0dXJlIHRoYXQgY29udGFpbnMgVW5zb2x2ZWQgYW5kIFNvbHZlZCBwdXp6bGVcIjtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyh0aWxlU2l6ZSk7XHJcblxyXG4gICAgbGV0IHVUb3BMZWZ0UG9zID0geyB4OiAoc1RvcExlZnRQb3MueCAtICh0aWxlU2l6ZSAqIDUpKSwgeTogc1RvcExlZnRQb3MueSB9XHJcblxyXG4gICAgbGV0IHNvbHZlZFRpbGVzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgIGxldCB5ID0gc1RvcExlZnRQb3MueSArIChpICogdGlsZVNpemUpO1xyXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgNDsgaysrKSB7XHJcbiAgICAgICAgICAgIGxldCB4ID0gc1RvcExlZnRQb3MueCArKGsgKiB0aWxlU2l6ZSk7XHJcbiAgICAgICAgICAgIGxldCByZWN0ID0gbmV3IGN2LlJlY3QoeCwgeSwgdGlsZVNpemUsIHRpbGVTaXplKTtcclxuICAgICAgICAgICAgc29sdmVkVGlsZXMucHVzaChzcmMucm9pKHJlY3QpKTtcclxuICAgICAgICAgICAgaWYgKGRlYnVnKVxyXG4gICAgICAgICAgICAgICAgY3YuaW1zaG93KGBzY2FudmFzJHtpfS0ke2t9YCwgc3JjLnJvaShyZWN0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCB1bnNvbHZlZFRpbGVzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgIGxldCB5ID0gdVRvcExlZnRQb3MueSArIChpICogdGlsZVNpemUpO1xyXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgNDsgaysrKSB7XHJcbiAgICAgICAgICAgIGxldCB4ID0gdVRvcExlZnRQb3MueCArIChrICogdGlsZVNpemUpO1xyXG4gICAgICAgICAgICBsZXQgcmVjdCA9IG5ldyBjdi5SZWN0KHgsIHksIHRpbGVTaXplLCB0aWxlU2l6ZSk7XHJcbiAgICAgICAgICAgIGxldCBwb3MgPSBGaW5kUG9zKHNvbHZlZFRpbGVzLCBzcmMucm9pKHJlY3QpKTtcclxuICAgICAgICAgICAgdW5zb2x2ZWRUaWxlcy5wdXNoKHBvcyA9PSBudWxsID8gMTUgOiBwb3MpO1xyXG4gICAgICAgICAgICBpZiAoZGVidWcpXHJcbiAgICAgICAgICAgICAgICBjdi5pbXNob3coYGNhbnZhcyR7aX0tJHtrfWAsIHNyYy5yb2kocmVjdCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNyYy5kZWxldGUoKTtcclxuXHJcbiAgICBjb25zdCBnb2FsU3RhdGUgPSBbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNV07XHJcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB1bnNvbHZlZFRpbGVzO1xyXG5cclxuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coaW5pdGlhbFN0YXRlKTtcclxuICAgIGxldCBzdW0gPSAwO1xyXG4gICAgZm9yIChjb25zdCBudW0gb2YgaW5pdGlhbFN0YXRlKSB7XHJcbiAgICAgICAgc3VtICs9IG51bTtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3QgbnVtIG9mIGdvYWxTdGF0ZSkge1xyXG4gICAgICAgIHN1bSAtPSBudW07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN1bSAhPSAwKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvbHV0aW9uJykuaW5uZXJUZXh0ID0gXCJCYWQgaW1hZ2UuIEluY2x1ZGUgYSBwaWN0dXJlIHRoYXQgY29udGFpbnMgVW5zb2x2ZWQgYW5kIFNvbHZlZCBwdXp6bGVcIjtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBQdXp6bGUuc29sdmUoXHJcbiAgICAgICAgaW5pdGlhbFN0YXRlLFxyXG4gICAgICAgIGluaXRpYWxTdGF0ZS5pbmRleE9mKDE1KSxcclxuICAgICAgICBwYXJ0aXRpb25EYXRhLnBhcnRpdGlvbnMsXHJcbiAgICAgICAgcGFydGl0aW9uRGF0YS5kYnNcclxuICAgICkudGhlbihhbnMgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb2x1dGlvbicpLmlubmVyVGV4dCA9IFwiU29sdXRpb246IFxcblxcblwiICsgYW5zICsgXCJcXG5cXG5JbnN0cnVjdGlvbnM6IFxcblxcbnUgLSB0aWxlIGdvZXMgdXBcXG5kIC0gdGlsZSBnb2VzIGRvd25cXG5yIC0gdGlsZSBnb2VzIHJpZ2h0XFxubCAtIHRpbGUgZ29lcyBsZWZ0XCI7XHJcbiAgICB9KS5jYXRjaChlID0+IHtcclxuICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUuZXJyb3IoZS5tZXNzYWdlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBTb2x2ZWRUb3BMZWZ0Q29ybmVyKHNyYykge1xyXG4gICAgZm9yIChsZXQgeCA9IHNyYy5zaXplKCkud2lkdGggLyAyOyB4IDw9IHNyYy5zaXplKCkud2lkdGg7IHgrKykge1xyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgc3JjLnNpemUoKS5oZWlnaHQ7IHkrKykge1xyXG4gICAgICAgICAgICBsZXQgcmdiYSA9IHNyYy51Y2hhclB0cih5LCB4KTtcclxuICAgICAgICAgICAgaWYgKHJnYmFbMF0gPT0gMCAmJiByZ2JhWzFdID09IDAgJiYgcmdiYVsyXSA9PSAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gR2V0VGlsZVNpemUoc3JjLCBwb3MpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGxldCByZ2JhID0gc3JjLnVjaGFyUHRyKHBvcy55LCBwb3MueCk7XHJcbiAgICAgICAgd2hpbGUgKGkgPCA1IHx8IChyZ2JhWzBdICE9IDAgfHwgcmdiYVsxXSAhPSAwIHx8IHJnYmFbMl0gIT0gMCkpIHtcclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICBwb3MueCsrO1xyXG4gICAgICAgICAgICBwb3MueSsrO1xyXG4gICAgICAgICAgICByZ2JhID0gc3JjLnVjaGFyUHRyKHBvcy55LCBwb3MueCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgayA9IDA7XHJcbiAgICAgICAgd2hpbGUgKHJnYmFbMF0gPT0gMCAmJiByZ2JhWzFdID09IDAgJiYgcmdiYVsyXSA9PSAwKSB7XHJcbiAgICAgICAgICAgIGsrKztcclxuICAgICAgICAgICAgcG9zLngrKztcclxuICAgICAgICAgICAgcG9zLnkrKztcclxuICAgICAgICAgICAgcmdiYSA9IHNyYy51Y2hhclB0cihwb3MueSwgcG9zLngpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBrID0gTWF0aC5mbG9vcihrIC8gMik7XHJcbiAgICAgICAgcmV0dXJuIGkgKyBrO1xyXG4gICAgfVxyXG4gICAgY2F0Y2gge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIENvbXBhcmVNYXRzKG1hdDEsIG1hdDIpIHtcclxuICAgIGlmIChtYXQxLnJvd3MgIT09IG1hdDIucm93cyB8fCBtYXQxLmNvbHMgIT09IG1hdDIuY29scykge1xyXG4gICAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5lcnJvcihcIkRpbWVuc2lvbnMgb2YgdGhlIE1hdHMgYXJlIGRpZmZlcmVudC5cIik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0MS5yb3dzOyBpKyspIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1hdDEuY29sczsgaisrKSB7XHJcbiAgICAgICAgICAgIGxldCBwaXhlbDEgPSBtYXQxLnVjaGFyUHRyKGosIGkpO1xyXG4gICAgICAgICAgICBsZXQgcGl4ZWwyID0gbWF0Mi51Y2hhclB0cihqLCBpKTtcclxuICAgICAgICAgICAgaWYgKHBpeGVsMVswXSAhPSBwaXhlbDJbMF0gfHwgcGl4ZWwxWzFdICE9IHBpeGVsMlsxXSB8fCBwaXhlbDFbMl0gIT0gcGl4ZWwyWzJdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEZpbmRQb3Moc29sdmVkVGlsZXMsIG1hdDIpIHtcclxuICAgIGxldCBmb3VuZCA9IG51bGw7XHJcbiAgICBzb2x2ZWRUaWxlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKENvbXBhcmVNYXRzKHZhbCwgbWF0MikpXHJcbiAgICAgICAgICAgIGZvdW5kID0gaW5kZXg7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmb3VuZDtcclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./wwwroot/js/minescape/puzzle.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".minescape-solvers.js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	__webpack_require__("./wwwroot/js/minescape/puzzle.js");
/******/ 	__webpack_require__("./wwwroot/js/minescape/light.js");
/******/ 	__webpack_require__("./wwwroot/js/minescape/cypher.js");
/******/ 	__webpack_require__("./wwwroot/js/minescape/anagram.js");
/******/ 	__webpack_require__("./wwwroot/js/minescape/chest.js");
/******/ 	var __webpack_exports__ = __webpack_require__("./wwwroot/js/minescape/beacon.js");
/******/ 	
/******/ })()
;
//# sourceMappingURL=minescape-solvers.js.map