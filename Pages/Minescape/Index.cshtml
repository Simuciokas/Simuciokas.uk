@page
@model IndexModel
@{
    ViewData["Title"] = "Clue Helper";

    <div class="modal fade" id="suggestionModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Submit Suggestion</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <textarea id="suggestionNote" class="form-control" rows="4" placeholder="Enter your suggestion..."></textarea>
                    <div id="suggestionMessage" class="mt-3 d-none"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="suggestionSubmit" class="btn btn-primary w-100">Submit</button>
                </div>
            </div>
        </div>
    </div>

    <div class="continer-fluid">
        <div class="w-100 bg-secondary-subtle border-secondary-subtle border border-top-0 rounded-bottom-4 d-flex mb-3" id="Navigation">
            <input class="navRadio" type="radio" id="rPuzzle" name="radios" value="Puzzle">
            <label class="navRadio prevent-select" for="rPuzzle">Puzzle Boxes</label><br />
            <input class="navRadio" type="radio" id="rLight" name="radios" value="Light">
            <label class="navRadio prevent-select" for="rLight">Light Boxes</label><br />
            <input class="navRadio" type="radio" id="rAnagram" name="radios" value="Anagram">
            <label class="navRadio prevent-select" for="rAnagram">Anagrams</label><br />
            <input class="navRadio" type="radio" id="rCypher" name="radios" value="Cypher">
            <label class="navRadio prevent-select" for="rCypher">Cyphers</label><br />
            <input class="navRadio" type="radio" id="rBeacon" name="radios" value="Beacon">
            <label class="navRadio prevent-select" for="rBeacon">Beacons</label><br />
            <input class="navRadio" type="radio" id="rChest" name="radios" value="Chest">
            <label class="navRadio prevent-select" for="rChest">Chests</label><br />
            <input class="navRadio" type="radio" id="rHotCold" name="radios" value="HotCold">
            <label class="navRadio prevent-select" for="rHotCold">Hot and Cold</label><br />
            <input class="navRadio" type="radio" id="rMap" name="radios" value="Map">
            <label class="navRadio prevent-select" for="rMap">Maps</label><br />
            <input class="navRadio" type="radio" id="rGE" name="radios" value="GE">
            <label class="navRadio prevent-select" for="rGE">Grand Exchange</label><br />
        </div>
    </div>

    <div class="main" id="Puzzle">
        <div class="dropzone-wrapper" id="PuzzleInputZone">
            <div class="dropzone-desc">
                <p id="PuzzleInputDescription">Choose a Puzzle image file or drag it here.</p>
            </div>
            <canvas id="PuzzleCanvas" height="200"></canvas>
            <input type="file" name="img_logo" class="dropzone" id="PuzzleInput">
        </div>

        <p id="solution"></p>

        <div id="PuzzleCanvas" style="display: none;">
            <canvas id="canvas"></canvas>

            <canvas id="canvas0-0"></canvas>
            <canvas id="canvas0-1"></canvas>
            <canvas id="canvas0-2"></canvas>
            <canvas id="canvas0-3"></canvas>
            <canvas id="canvas1-0"></canvas>
            <canvas id="canvas1-1"></canvas>
            <canvas id="canvas1-2"></canvas>
            <canvas id="canvas1-3"></canvas>
            <canvas id="canvas2-0"></canvas>
            <canvas id="canvas2-1"></canvas>
            <canvas id="canvas2-2"></canvas>
            <canvas id="canvas2-3"></canvas>
            <canvas id="canvas3-0"></canvas>
            <canvas id="canvas3-1"></canvas>
            <canvas id="canvas3-2"></canvas>
            <canvas id="canvas3-3"></canvas>

            <canvas id="scanvas0-0"></canvas>
            <canvas id="scanvas0-1"></canvas>
            <canvas id="scanvas0-2"></canvas>
            <canvas id="scanvas0-3"></canvas>
            <canvas id="scanvas1-0"></canvas>
            <canvas id="scanvas1-1"></canvas>
            <canvas id="scanvas1-2"></canvas>
            <canvas id="scanvas1-3"></canvas>
            <canvas id="scanvas2-0"></canvas>
            <canvas id="scanvas2-1"></canvas>
            <canvas id="scanvas2-2"></canvas>
            <canvas id="scanvas2-3"></canvas>
            <canvas id="scanvas3-0"></canvas>
            <canvas id="scanvas3-1"></canvas>
            <canvas id="scanvas3-2"></canvas>
            <canvas id="scanvas3-3"></canvas>
        </div>

        <div class="Tips">
            <a href="https://discord.com/channels/107916528011210752/1261723456790200472/1261723756712169522" target="_blank">Click Here for Sample screenshot (Discord)</a><br />
            <span><b>Tip #1: </b></span><span>On Windows use WIN+SHIFT+S to screenshot into clipboard</span><br />
            <span><b>Tip #2: </b></span><span>Use CTRL+V to upload image from clipboard</span><br />
        </div>
        <input type="checkbox" id="PuzzleDebug" style="display: none;"/><br />
    </div>

    <div class="main" id="Light" style="display: none;">
        <div class="dropzone-wrapper" id="LightInputZone">
            <canvas id="PuzzleCanvas" height="200"></canvas>

            <span class="dropzone-desc" id="LightDescription0">Step 1: Upload an inital view of the Light Puzzle</span>
            <span class="dropzone-tip" style="display:none;" id="LightTip0">Initial View</span>
            <input class="dropzone lights-input" type="file" accept="image/*" id="LightInput0">

            <span class="dropzone-desc" style="display:none;" id="LightDescription1">Step 2: Click A and Upload a new screenshot</span>
            <span class="dropzone-tip" style="display:none;" id="LightTip1">Initial View</span>
            <input class="dropzone lights-input" style="display:none;" type="file" accept="image/*" id="LightInput1">

            <span class="dropzone-desc" style="display:none;" id="LightDescription2">Step 3: Click B and Upload a new screenshot</span>
            <span class="dropzone-tip" style="display:none;" id="LightTip2">Initial View</span>
            <input class="dropzone lights-input" style="display:none;" type="file" accept="image/*" id="LightInput2">

            <span class="dropzone-desc" style="display:none;" id="LightDescription3">Step 4/9: Click C and Upload</span>
            <span class="dropzone-tip" style="display:none;" id="LightTip3">Initial View</span>
            <input class="dropzone lights-input" style="display:none;" type="file" accept="image/*" id="LightInput3">

            <span class="dropzone-desc" style="display:none;" id="LightDescription4">Step 5/9: Click D and Upload</span>
            <span class="dropzone-tip" style="display:none;" id="LightTip4">Initial View</span>
            <input class="dropzone lights-input" style="display:none;" type="file" accept="image/*" id="LightInput4">

            <span class="dropzone-desc" style="display:none;" id="LightDescription5">Step 6/9: Click E and Upload</span>
            <span class="dropzone-tip" style="display:none;" id="LightTip5">Initial View</span>
            <input class="dropzone lights-input" style="display:none;" type="file" accept="image/*" id="LightInput5">

            <span class="dropzone-desc" style="display:none;" id="LightDescription6">Step 7/9: Click F and Upload</span>
            <span class="dropzone-tip" style="display:none;" id="LightTip6">Initial View</span>
            <input class="dropzone lights-input" style="display:none;" type="file" accept="image/*" id="LightInput6">

            <span class="dropzone-desc" style="display:none;" id="LightDescription7">Step 8/9: Click G and Upload</span>
            <span class="dropzone-tip" style="display:none;" id="LightTip7">Initial View</span>
            <input class="dropzone lights-input" style="display:none;" type="file" accept="image/*" id="LightInput7">

            <span class="dropzone-desc" style="display:none;" id="LightDescription8">Last Step: Click H and Upload</span>
            <span class="dropzone-tip" style="display:none;" id="LightTip8">Initial View</span>
            <input class="dropzone lights-input" style="display:none;" type="file" accept="image/*" id="LightInput8">

            <span class="dropzone-desc" style="display:none;" id="LightSolution">Last Step: Click H and Upload</span>
            <span class="dropzone-tip" style="display:none;" id="LightTip">Initial View</span>
        </div>

        <div id="LightPreview">
            <canvas class="light-preview" id="canvas-preview-0" style="display:none;"></canvas>
            <label class="previewLabel" for="canvas-preview-0" style="display:none;">Initial</label>
            <canvas class="light-preview" id="canvas-preview-1" style="display:none;"></canvas>
            <label class="previewLabel" for="canvas-preview-1" style="display:none;">A</label>
            <canvas class="light-preview" id="canvas-preview-2" style="display:none;"></canvas>
            <label class="previewLabel" for="canvas-preview-2" style="display:none;">B</label>
            <canvas class="light-preview" id="canvas-preview-3" style="display:none;"></canvas>
            <label class="previewLabel" for="canvas-preview-3" style="display:none;">C</label>
            <canvas class="light-preview" id="canvas-preview-4" style="display:none;"></canvas>
            <label class="previewLabel" for="canvas-preview-4" style="display:none;">D</label>
            <canvas class="light-preview" id="canvas-preview-5" style="display:none;"></canvas>
            <label class="previewLabel" for="canvas-preview-5" style="display:none;">E</label>
            <canvas class="light-preview" id="canvas-preview-6" style="display:none;"></canvas>
            <label class="previewLabel" for="canvas-preview-6" style="display:none;">F</label>
            <canvas class="light-preview" id="canvas-preview-7" style="display:none;"></canvas>
            <label class="previewLabel" for="canvas-preview-7" style="display:none;">G</label>
            <canvas class="light-preview" id="canvas-preview-8" style="display:none;"></canvas>
            <label class="previewLabel" for="canvas-preview-8" style="display:none;">H</label>
        </div>

        <div id="LightCanvas" style="display: none;">
            <canvas id="canvas-lb-0"></canvas>
            <canvas id="canvas-lb-1"></canvas>
            <canvas id="canvas-lb-2"></canvas>
            <canvas id="canvas-lb-3"></canvas>
            <canvas id="canvas-lb-4"></canvas>
            <canvas id="canvas-lb-5"></canvas>
            <canvas id="canvas-lb-6"></canvas>
            <canvas id="canvas-lb-7"></canvas>
            <canvas id="canvas-lb-8"></canvas>
        </div>
        <p id="solution-lb"></p>

        <button id="LightReset">Reset Light Solver</button>
        <div class="Tips">
            <a href="https://discord.com/channels/107916528011210752/1261723456790200472/1262143288870174921" target="_blank">Click Here for Sample screenshots (Discord)</a><br />
            <span><b>NOTE: </b></span><span>Only lightbulbs should be contained in the screenshot, including buttons A to H will mark it as a wrong upload</span><br />
            <span><b>Tip #1: </b></span><span>On Windows use WIN+SHIFT+S to screenshot into clipboard</span><br />
            <span><b>Tip #2: </b></span><span>Use CTRL+V to upload image from clipboard</span><br />
        </div>
        <input type="checkbox" id="LightDebug" style="display:none;" /><br />
    </div>

    <div class="main" id="Anagram" style="display: none;">
        <div class="position-relative">

            <div class="input-group mb-2">
                <span class="input-group-text" style="width: 130px;">NPC Name:</span>
                <span class="form-control" id="solution-anagram-name">not found</span>
            </div>
            
            <div class="input-group mb-2">
                <span class="input-group-text" style="width: 130px;">Tip:</span>
                <span class="form-control" id="solution-anagram-tip">not found</span>
            </div>

            <div class="input-group mb-2">
                <span class="input-group-text" style="width: 130px;">Map location:</span>
                <a class="form-control" id="solution-anagram-url" target="_blank">not found</a>
            </div>

            <input class="form-control mb-2" type="text" id="AnagramInput" placeholder="Input Anagram Text" autocomplete="off">
            <div class="bg-secondary-subtle search-results" id="searchResultsAnagram"></div>
        </div>
        <div id="solution-anagram-map"></div>
    </div>

    <div class="main" id="Cypher" style="display: none;">
        <div class="position-relative">

            <div class="input-group mb-2">
                <span class="input-group-text" style="width: 130px;">Name:</span>
                <span class="form-control" id="solution-cypher-name">not found</span>
            </div>
            
            <div class="input-group mb-2">
                <span class="input-group-text" style="width: 130px;">Tip:</span>
                <span class="form-control" id="solution-cypher-tip">not found</span>
            </div>

            <div class="input-group mb-2">
                <span class="input-group-text" style="width: 130px;">Map location:</span>
                <a class="form-control" id="solution-cypher-url" target="_blank">not found</a>
            </div>

            <input class="form-control mb-2" type="text" id="CypherInput" placeholder="Input Cypher Text" autocomplete="off">
            <div class="Tips">
                <span class="fw-bold">Tip #1: </span><span>Minimum of 3 characters are required to find a potential result</span><br/>
            </div>
        </div>
        <div id="solution-cypher-map"></div>
    </div>

    <div class="main" id="Beacon" style="display: none;">
        <div class="position-relative">

            <div class="input-group mb-2">
                <span class="input-group-text" style="width: 130px;">Tip:</span>
                <span class="form-control" id="solution-beacon-tip">not found</span>
            </div>

            <div class="input-group mb-2">
                <span class="input-group-text" style="width: 130px;">Map location:</span>
                <a class="form-control" id="solution-beacon-url" target="_blank">not found</a>
            </div>

            <input class="form-control mb-2" type="text" id="BeaconInput" placeholder="Input Beacon Code" autocomplete="off">
            <div class="bg-secondary-subtle search-results" id="searchResultsBeacon"></div>
        </div>
        <div id="solution-beacon-map"></div>
    </div>

    <div class="main" id="Chest" style="display: none;">
        <div class="position-relative">

            <div class="input-group mb-2">
                <span class="input-group-text" style="width: 130px;">Tip:</span>
                <span class="form-control" id="solution-chest-tip">not found</span>
            </div>

            <div class="input-group mb-2">
                <span class="input-group-text" style="width: 130px;">Map location:</span>
                <a class="form-control" id="solution-chest-url" target="_blank">not found</a>
            </div>

            <input class="form-control mb-2" type="text" id="ChestInput" placeholder="Input Chest Text" autocomplete="off">
            <div class="bg-secondary-subtle search-results" id="searchResultsChest"></div>
        </div>
        <div id="solution-chest-map"></div>
    </div>

    <div class="main" id="HotCold" style="display: none;">

        <div class="input-group mb-2">
            <label class="input-group-text" style="width: 130px;">Tier of Clue:</label>
            <input class="btn-check" type="radio" id="rBeginner" name="holdColdClueTier" value="Beginner" autocomplete="off" checked />
            <label class="btn btn-outline-secondary" for="rBeginner">Beginner</label>
            <input class="btn-check" type="radio" id="rEasy" name="holdColdClueTier" value="Easy" autocomplete="off" />
            <label class="btn btn-outline-secondary" for="rEasy">Easy</label>
            <input class="btn-check" type="radio" id="rMaster" name="holdColdClueTier" value="Master" autocomplete="off" />
            <label class="btn btn-outline-secondary" for="rMaster">Master</label>
        </div>

        <div class="input-group mb-2">
            <label class="input-group-text" style="width: 130px;">In-game /map</label>
            <input class="form-control" type="text" id="HotColdMap" placeholder="Input URL from /map" autocomplete="off">
            <label class="input-group-text fw-bold" style="width: 160px;">Provided Location</label>
            <span class="form-control" id="hotcold-location">not provided</span>
        </div>

        <div class="input-group mb-2">
            <label class="input-group-text" style="width: 130px;">Distance</label><br />
            <input class="form-control" type="number" id="HotColdDistance" placeholder="Input distance" autocomplete="off">
            <label class="input-group-text fw-bold" style="width: 160px;">Provided Distance</label>
            <span class="form-control" id="hotcold-distance">not provided</span>
        </div>

        <div class="btn-group mb-2">
            <button class="btn btn-outline-primary" id="HotColdSolve">Try Solve</button>
            <button class="btn btn-outline-danger" id="HotColdReset">Reset</button>
            <span class="fw-bold h3" id="solution-hotcold-header">Possible locations:</span>
        </div>

        <div class="Tips">
            <span class="fw-bold">Tip #1: </span><span>Click to preview location</span>
        </div>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4" id="solution-hotcold" style="height: 259px; overflow: hidden; overflow-y: scroll;">
            <span><b>Tip: </b></span><span id="solution-hotcold-tip">not found</span><br />
            <span><b>Map location: </b></span><a id="solution-hotcold-url" target="_blank">not found</a><br />
        </div>
        <div id="solution-hotcold-map">
        </div>
    </div>

    <div class="main" id="Map" style="display: none;">
        <div class="input-group mb-2">
            <label class="input-group-text" style="width: 130px;">Tier of Clue:</label>
            <input class="btn-check" type="radio" id="rBeginnerM" name="mapClueTier" value="Beginner" autocomplete="off" checked />
            <label class="btn btn-outline-secondary" for="rBeginnerM">Beginner</label>
            <input class="btn-check" type="radio" id="rEasyM" name="mapClueTier" value="Easy" autocomplete="off" />
            <label class="btn btn-outline-secondary" for="rEasyM">Easy</label>
            <input class="btn-check" type="radio" id="rMediumM" name="mapClueTier" value="Medium" autocomplete="off" />
            <label class="btn btn-outline-secondary" for="rMediumM">Medium</label>
            <input class="btn-check" type="radio" id="rHardM" name="mapClueTier" value="Hard" autocomplete="off" />
            <label class="btn btn-outline-secondary" for="rHardM">Hard</label>
            <input class="btn-check" type="radio" id="rEliteM" name="mapClueTier" value="Elite" autocomplete="off" />
            <label class="btn btn-outline-secondary" for="rEliteM">Elite</label>
        </div>
        <div class="Tips">
            <span class="fw-bold">Tip #1: </span><span>Click to preview map</span>
        </div>

        <div id="solution-map">
        </div><br />

        <div id="solution-map-map"></div>

    </div>

    <div class="main GE" id="GE" style="display: none;">
        <div class="position-relative mb-2">
            <div class="d-flex justify-content-center">
                <div class="d-flex align-items-center gap-2">
                    <div class="input-group w-auto" id="geLatestFilter">
                        <label class="input-group-text" for="geItemsPerType">Items</label>
                        <select class="form-select" id="geItemsPerType" name="itemsPerType"></select>

                        <input class="btn-check" type="radio" id="geBoth" name="GE" autocomplete="off" checked />
                        <label class="btn btn-outline-secondary" for="geBoth">All</label>
                        <input class="btn-check" type="radio" id="geBuy" name="GE" autocomplete="off" />
                        <label class="btn btn-outline-secondary" for="geBuy">Buy</label>
                        <input class="btn-check" type="radio" id="geSell" name="GE" autocomplete="off" />
                        <label class="btn btn-outline-secondary" for="geSell">Sell</label>
                    </div>

                    <button class="btn btn-outline-secondary" id="viewLatestOffers" style="display: none;">View Latest Offers</button>

                    <div class="input-group w-auto">
                        <input class="form-control" type="text" id="searchInput" placeholder="Search item by name or symbol..." autocomplete="off" style="width: 300px;">
                        <div class="input-group-text">
                            <div class="form-check form-switch">
                                <input class="form-check-input info-switch" type="checkbox" id="fuzzySearchToggle" checked>
                                <label class="form-check-label prevent-select" for="fuzzySearchToggle">Fuzzy Search</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-secondary-subtle search-results" id="searchResults"></div>
            </div>
        </div>

        <div>
            <table class="table table-striped table-hover table-sm" id="detailsTable" style="display: none;">
                <thead>
                    <tr>
                        <th>Type</th>
                        <th id="detailsTableItem">Item</th>
                        <th>Amount</th>
                        <th>Price</th>
                        <th>User</th>
                        <th>Timestamp<span class="sort-icon" style="position: absolute; margin-left: 5px;">▼</span></th>
                    </tr>
                </thead>
                <tbody class="table-group-divider"></tbody>
            </table>
            <div class="d-flex justify-content-center" id="geNavigation">
                <div class="btn-group d-flex justify-content-center align-items-center">
                    <button class="btn btn-outline-secondary generic" disabled>First</button>
                    <button class="btn btn-outline-secondary generic" disabled>Previous</button>
                    <button class="btn btn-outline-secondary active">1</button>
                    <button class="btn btn-outline-secondary" >2</button>
                    <button class="btn btn-outline-secondary">3</button>
                    <button class="btn btn-outline-secondary">4</button>
                    <button class="btn btn-outline-secondary">5</button>
                    <button class="btn btn-outline-secondary generic">Next</button>
                </div>
            </div>
        </div>

        <div>
            <canvas id="candlesChart" style="display: none; max-height: 400px;"></canvas>
            <canvas id="volumeChart" style="display: none; max-height: 200px;"></canvas>
        </div>
    </div>

    <script src="@Url.Content("/dist/minescape-solvers.js")"></script>
}
